(this["webpackJsonpadvisory-h5"]=this["webpackJsonpadvisory-h5"]||[]).push([[0],{180:function(e,t,n){},184:function(e,t,n){},185:function(e,t,n){},219:function(e,t,n){},220:function(e,t,n){},221:function(e,t,n){},222:function(e,t,n){},224:function(e,t,n){},225:function(e,t,n){},226:function(e,t,n){},227:function(e,t,n){},228:function(e,t,n){},232:function(e,t,n){},233:function(e,t,n){},235:function(e,t,n){},236:function(e,t,n){"use strict";n.r(t);var i=n(8),a=n(1),r=n(25),c=n.n(r),s=n(14),o=(n(19),n(7)),u=n.n(o),l=n(10),d=n(3),g=n(6),b=function(){var e=Object(a.useState)("http://ayx.ltd/kefu/5fe0753addc8c"),t=Object(g.a)(e,1)[0];return{onService:function(){var e=document.createElement("a");e.setAttribute("href",t),e.setAttribute("target","_blank"),e.setAttribute("id","online"),document.getElementById("online")||document.body.appendChild(e),e.click()},onlineService:t}},j=(n(180),n(0)),A=function(e){var t=Object(l.g)(),n=(b().onService,e.goback),i=e.title,a=(e.service,e.rightIcon);e.search;return Object(j.jsx)("header",{className:"header-wrap",children:Object(j.jsxs)("ul",{className:"container",children:[n?Object(j.jsx)("li",{className:"goback",onClick:function(){"function"===typeof n?n():n&&t.replace(n)}}):Object(j.jsx)("li",{}),Object(j.jsx)("li",{className:"title",children:i}),a?a():Object(j.jsx)("li",{})]})})},f="data:image/png;base64,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",m=Object(d.b)("userState")(Object(d.c)((function(e){var t=e.data,n=e.userState.user,i="";return i=t.user?n.imgUrl+t.user.avatar:n.imgUrl+t.avatar,Object(j.jsxs)("p",{className:"left-chat",children:[Object(j.jsx)("a",{children:Object(j.jsx)("img",{src:i,onError:function(e){e.target.onerror=null,e.target.src=f}})}),Object(j.jsx)("span",{className:"text",dangerouslySetInnerHTML:{__html:t.msgContent}})]})}))),p=Object(d.b)("userState")(Object(d.c)((function(e){var t,n=e.data,i=e.userState;return t=(i.user.avatar,i.user.imgUrl+i.user.avatar),Object(j.jsxs)("p",{className:"right-chat",children:[Object(j.jsx)("span",{className:"text",dangerouslySetInnerHTML:{__html:n.msgContent}}),Object(j.jsx)("a",{children:Object(j.jsx)("img",{src:t,onError:function(e){e.target.onerror=null,e.target.src=f}})})]})}))),h=n(37),O=n.n(h),v=function(e){return function(e){return O()(e).format("MM\u6708DD\u65e5 HH:mm")}(e)},w=function(e){var t=e.time;return Object(j.jsx)("div",{className:"chat-time",children:Object(j.jsx)("span",{children:v(t)})})},y=Object(d.b)("userState","msgState")(Object(d.c)((function(e){var t=e.userState,n=e.datas,i=e.setPage,r=e.page,c=e.isLastPage,s=t.user,o=Object(a.useRef)(),u=function(e,t){if(!e)return!0;var n=O()(Date.parse(e.createTime));return O()(Date.parse(t.createTime)).diff(n,"minute")>2};return Object(j.jsx)("div",{className:"chat-content reverse",ref:o,children:Object(j.jsxs)("div",{className:"chat-main",children:[Object(j.jsx)("div",{className:"hide-child",children:"hidee"}),n.map((function(e,t){var i=e.msgContent.replace(/:emoji\[([^\s\[\]]+?)\]/g,(function(e){var t=e.replace(/^:emoji/g,"");return t=t.slice(1,t.length-1),'<i class="emoji-icon emoji-'.concat(t,'"></i>')}));return e.msgContent=i,Object(j.jsxs)("div",{children:[u(n[t-1],n[t])&&Object(j.jsx)(w,{time:e.createTime}),s.uid===e.senderUid?Object(j.jsx)(p,{data:e}):Object(j.jsx)(m,{data:e})]},t)})),!c&&Object(j.jsx)("span",{className:"more-data",onClick:function(){return i(r+1)},children:"\u70b9\u51fb\u52a0\u8f7d\u66f4\u591a"})]})})}))),S=[{title:"\u5fae\u7b11",code:"smile"},{title:"\u53d1\u7b11",code:"laughing"},{title:"\u5bb3\u7f9e",code:"blush"},{title:"\u5fc3\u773c",code:"heart_eyes"},{title:"\u50bb\u7b11",code:"smirk"},{title:"\u6fc0\u52a8",code:"flushed"},{title:"\u54a7\u5634",code:"grin"},{title:"\u4eb2\u4eb2",code:"kissing_smiling_eyes"},{title:"\u7728\u773c",code:"wink"},{title:"\u5bb3\u7f9e\u7684\u4eb2\u4eb2",code:"kissing_closed_eyes"},{title:"\u8c03\u76ae",code:"stuck_out_tongue_winking_eye"},{title:"\u665a\u5b89",code:"sleeping"},{title:"\u62c5\u5fc3",code:"worried"},{title:"\u6fc0\u52a8\u7684\u5fae\u4fe1",code:"sweat_smile"},{title:"\u51b7\u6c57",code:"cold_sweat"},{title:"\u7b11\u54ed",code:"joy"},{title:"\u54ed\u6ce3",code:"sob"},{title:"\u6124\u6012",code:"angry"},{title:"\u751f\u75c5",code:"mask"},{title:"\u5c16\u53eb",code:"scream"},{title:"\u58a8\u955c",code:"sunglasses"},{title:"\u7f29\u7565\u56fe",code:"thumbsup"},{title:"\u9f13\u638c",code:"clap"},{title:"OK",code:"ok_hand"}],C=function(e){var t=e.selectEmoji;return Object(j.jsx)("nav",{className:"emojis",onBlur:function(){},children:S.map((function(e){return Object(j.jsx)("i",{className:"emoji-icon emoji-".concat(e.code),onClick:function(){return t(e.code)}},e.code)}))})},x=function(e){var t=e.sendMsg,n=e.friendUid,i=Object(a.useState)(""),r=Object(g.a)(i,2),c=r[0],s=r[1],o=Object(a.useState)(!1),u=Object(g.a)(o,2),l=u[0],d=u[1];return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("form",{className:"inputer",children:[l&&Object(j.jsx)(C,{selectEmoji:function(e){s(c+=":emoji["+e+"]")}}),Object(j.jsx)("textarea",{placeholder:"\u6d88\u606f",value:c,onChange:function(e){!function(e){s(e.target.value)}(e)}}),Object(j.jsx)("span",{className:"emoji",onClick:function(){d(!l)}}),Object(j.jsx)("button",{type:"submit",className:"".concat(c?"send":""),onClick:function(e){e.preventDefault(),c&&(t(c,n),s("")),d(!1)},children:"\u53d1\u9001"})]})})},k=(n(184),n(185),n(32)),N="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAASCAYAAABIB77kAAABXklEQVRIS7WVuy4GURSFv+1SaTQKj4BEopQIL6DzCMIDuCXiJ1FJXJ5BrXGrPIFKoXaJErVGJGzZkz2T45g7M9UU55xv1tprnRE6flR1EJgEhoBb6ZKnqv3AHLAHfAKLnQEdNgscAuPAKbDRCTCAHQATwDmwAzwmQFXtE5Gv/7A3gpmyC4OJyL2dL6o6DEwDb8CNiLy3BQcz23cbE2Ui8pCeaUCTfOwp2jX5IvLRFBrAzMax1MYQliocATYtQcALsN0UmhOQs1hZqNDmOAqsAEvAK9CrC3XYDHDkAbGZ9WJlGTB9UVWDrjaBBjCLvo3m0hxKA5I3lh+1aAJtA0tmGH9FHWhbWC7Qe1lo719ghcAIuuzp3QKugKkoIFmp61Sp9Gpze9e9Ms/ACTBf1rMqaOVd6tA1T6+tH/BSWxqzG6QK9KsWZRsCpQvAtUe/Max0hgXptR/pnYg81VUUr/sGnb2mW8wfeoUAAAAASUVORK5CYII=";var I=Object(d.b)("userState","groupsState")(Object(d.c)((function(e){var t=e.display,n=e.setDisplay,r=e.title,c=e.datas,s=e.userState,o=e.groupsState,u=Object(a.useState)({}),l=Object(g.a)(u,2),d=l[0],b=l[1],m=o.getDeleteGroupMembers,p=o.currentChat,h=Object(a.useState)(""),O=Object(g.a)(h,2),v=O[0],w=O[1];return Object(a.useEffect)((function(){!function(e){var t="";Object.keys(e).map((function(e,n){t+="".concat(e,",")})),w(t)}(d)}),[d]),Object(j.jsxs)("div",{className:t?"create_group_container addGroup":"create_group_container",children:[Object(j.jsx)(A,{title:r,goback:function(){return n(!1)},rightIcon:Object.keys(d).length?function(){return Object(j.jsx)("button",{className:"agree_button",onClick:function(){m(v,p.groupId),n(!1),b({})},children:"\u5b8c\u6210"})}:null}),Object(j.jsx)("div",{className:"newgroups_container",children:c.map((function(e){var t=s.user.imgUrl+e.user.avatar;return Object(j.jsxs)("div",{className:"single_newgroup",onClick:function(){return function(e){var t=d;d[e]?(delete t[e],b(Object(i.a)({},t))):b(Object(i.a)(Object(i.a)({},d),{},Object(k.a)({},e,e)))}(e.user.uid)},children:[Object(j.jsx)("div",{className:"".concat(d[e.user.uid]?"friendsChoosen":"option"),children:d[e.user.uid]&&Object(j.jsx)("img",{src:N,alt:"choosen"})}),Object(j.jsx)("div",{className:"avatar",children:Object(j.jsx)("img",{src:t,alt:"",onError:function(e){e.target.onerror=null,e.target.src=f}})}),Object(j.jsx)("div",{className:"single_newgroup_content",children:Object(j.jsx)("p",{className:"newgroup_name",children:e.user.name})})]},e.user.uid)}))})]})})));var E=Object(d.b)("userState","groupsState")(Object(d.c)((function(e){var t=e.display,n=e.setDisplay,r=e.title,c=e.datas,s=e.userState,o=e.groupsState,u=Object(a.useState)({}),l=Object(g.a)(u,2),d=l[0],b=l[1],m=o.getAddGroupMembers,p=o.currentChat,h=Object(a.useState)(""),O=Object(g.a)(h,2),v=O[0],w=O[1];return Object(a.useEffect)((function(){!function(e){var t="";Object.keys(e).map((function(e,n){t+="".concat(e,",")})),w(t)}(d)}),[d]),Object(j.jsxs)("div",{className:t?"create_group_container addGroup":"create_group_container",children:[Object(j.jsx)(A,{title:r,goback:function(){return n(!1)},rightIcon:Object.keys(d).length?function(){return Object(j.jsx)("button",{className:"agree_button",onClick:function(){m(v,p.groupId),n(!1),b({})},children:"\u5b8c\u6210"})}:null}),Object(j.jsx)("div",{className:"newgroups_container",children:c.map((function(e){var t=s.user.imgUrl+e.user.avatar;return Object(j.jsxs)("div",{className:"single_newgroup",onClick:function(){return function(e){var t=d;d[e]?(delete t[e],b(Object(i.a)({},t))):b(Object(i.a)(Object(i.a)({},d),{},Object(k.a)({},e,e)))}(e.user.uid)},children:[Object(j.jsx)("div",{className:"".concat(d[e.user.uid]?"friendsChoosen":"option"),children:d[e.user.uid]&&Object(j.jsx)("img",{src:N,alt:"choosen"})}),Object(j.jsx)("div",{className:"avatar",children:Object(j.jsx)("img",{src:t,alt:"",onError:function(e){e.target.onerror=null,e.target.src=f}})}),Object(j.jsx)("div",{className:"single_newgroup_content",children:Object(j.jsx)("p",{className:"newgroup_name",children:e.user.name})})]},e.user.uid)}))})]})})));var R=Object(d.b)("groupsState","userState","friendsState")(Object(d.c)((function(e){var t=e.display,n=e.setDisplay,i=e.groupsState,r=e.userState,c=e.friendsState,s=e.title,o=i.groupMembers,u=c.friendsData,l=Object(a.useState)(!1),d=Object(g.a)(l,2),b=d[0],m=d[1],p=Object(a.useState)(!1),h=Object(g.a)(p,2),O=h[0],v=h[1],w=Object(a.useState)(!1),y=Object(g.a)(w,2),S=y[0],C=y[1],x=Object(a.useState)(""),k=Object(g.a)(x,2),N=k[0],R=k[1];return Object(a.useEffect)((function(){o.find((function(e){e.user.uid===r.user.uid&&0!==e.rank&&C(!0)}))}),[o]),Object(j.jsxs)("div",{className:t?"create_group_container addGroup":"create_group_container",children:[Object(j.jsx)(A,{title:"".concat(s,"(").concat(null===o||void 0===o?void 0:o.length,")"),goback:function(){n(!1)}}),Object(j.jsxs)("div",{className:"groupMoreContainer",children:[o.map((function(e){var t=r.user.imgUrl+e.user.avatar;return Object(j.jsxs)("div",{className:"group_member",children:[Object(j.jsx)("img",{src:t,alt:"",onError:function(e){e.target.onerror=null,e.target.src=f}}),Object(j.jsx)("p",{children:e.user.account||e.user.name})]},e.user.uid)})),S&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"group_member",onClick:function(){v(!0),R("\u6dfb\u52a0\u6210\u54e1")},children:Object(j.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAEY0lEQVR4Xu2dz2sTaRjHnyfRDtVVQWEbf2SmjQcVFpY9FRS9CB4ET4rH3f/Ayy54WLwJCt7Fk3i1outfsOKyevAkCFKtxnmnQ5nuoVctcfLK6Faaok3ed56Z6bz55pQmz/N9k89nZtr0ySRMRJQkyc5er/d7mqZnmfmH7La1CzP/5fv+lfW3Zde11tujKHpIRMHG+zb7GXmDdHh+fn7X5OTkYyL65Tvg/g6C4PTG+xYWFnZPTEwsEtFuEwFENPZ5YRjuZ+YLnufd5jAMrzLzn1rrV41G45LWOl4Dqr9c3s3MzHz4FuTFxcW9/X6/NaoA5H0hpZS6TkSXiegaK6VeENFPRHQyCIJ/R4WJOnsCURSd0lpnR52X2R6QMPNUmqatTqezbB+LzlEJdLvdqWazmRDRcrYHZFemPM+barVa/40agjp7AkmS/Li6uppt7MvZHvCImY80Go3D7Xb7vX0sOkclMCBAa70tjuPtgD8qvvx1AwLyxyHBlAAEmBITrocAYaCmcRBgSky4HgKEgZrGbfwz9CYRHQ2C4AwzfzQNQ705gXUCkq+vhPFCzBykbcfc3Fxzdnb2LhG9wSthW4pCfRAgBNI2BgJsyQn1QYAQSNsYCLAlJ9QHAUIgTWOyaeLKysoqBJiSE6hfWlra0ev1Yq31awgQAGoaMfBKGBMxU3z56yEgP8NcCc4ICMPwSUZienr6RC4iJTc7MxNWSumMXRAEXDLDXMs5MxN2QkAulRU3QwAEWBFwZiKGPcDKv1wTBMixtEpyQkAYhrWdCTsgoN4z4boKcGYmXFcB64+3tf5vKARY/eqUa4IAOZZWSRBghU2uCQLkWFol1VmAEzPhugpwZiZcVwHOTMQgwOrILdcEAXIsrZKcEFDn84SdEFDGecLZuxeY+bjVZl5Rk9b6aVHvtih9IqaUyt4+AgH/b0ylCyhqI3biEFQUnDJyIaAMypusAQEQYEXAmfOEHdgDMBO22oRzNmEmnBOgZDtmwpI0LbIgwAKaZAsESNK0yIIAC2iSLRAgSdMgCzNhA1jSpZgJSxM1zMNM2BCYdDkESBM1zIMAQ2DS5ThPWJqoYR7OEzYEJl2OkaQ0UcM8CDAEJl3ukoAnWut6f1iHtF3kDSfgzB4w/KluzQpnZsJbE+/wR4XPjh7OqNAKZ2bChVIqKbzW84CSGBW6DAQUind4OAQMZ1RoBQQUind4OAQMZ1RIhRMz4ULIlBDqzEy4BFaFLOHMRKwQOiWEQkAJkDdbAgK2koA6nydcMUfr5Z2ZCVsTqLgR8wAIqJhAxctjD4CAiglUvPzAHhDH8b5+v/8bM99pt9srFT+2sVi+2+3+3Gw2nxPR2+zrbP9g5htE9E+apr92Oh01FhQqfJJKqQtEdI+IbnEURQe01s+I6OCIj+l+EARZwMBFaz0RRVFm9diIOWtlY5fn+/7FKIpOe5739POX38RxfChN02tEdI6I9mwGkJkf+L5//lsClFLPmdlIwLjnfQI42R80TyQuDAAAAABJRU5ErkJggg==",alt:"N/A"})}),Object(j.jsx)("div",{className:"group_member",onClick:function(){m(!0),R("\u522a\u9664\u6210\u54e1")},children:Object(j.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAD/UlEQVR4Xu2dTWsTURSGz0lsh/pRQcHEj8y0caGCIK4Kim4KLgRXFpf6D9wouBB3QgX34krcWvHjFyiK7cJVQZBqNc5MhjJ1ka2GOLky1EhT2jJ37nVOJG9WaXLveybP0ymdvqRhIqI4jnd1Op0bSZJcZObd6WO9GzO/cF33zvrH0vtKqZEwDF8Skbfxue2+Rl4/HV5aWtozNjb2hohObwHuled50xufW15eHh8dHW0S0biOACIa+jzf9w8y84zjOI/Y9/27zHxbKfWpVCpdV0pFPaBq7fZtcnLy52aQm83mvm63W80qAHlrpIIguEdEt4holoMg+EBEJ4nonOd577LCxLr8BMIwPK+USn/qfEzPgJiZK0mSVOv1+mr+WOzMSqDRaFTK5XJMRKvpGZDeqTiOU6lWq9+zhmBdfgJxHB9ot9vpN/tqega8ZuZjpVLpaK1W+5E/FjuzEugToJTaEUXRCOBnxWe+rk+AeRwSdAlAgC4xy+shwDJQ3TgI0CVmeT0EWAaqG7fx19AHRHTc87wLzPxLNwzr9QmsExD/vRLGhZg+yLw75ubmylNTU0+I6AuuhPNStLQPAiyBzBsDAXnJWdoHAZZA5o2BgLzkLO2DAEsgdWPSNrHVarUhQJechfUrKys7O51OpJT6DAEWgOpG9F0JoxHTxWe+HgLMGRolQIARPvPN6ITNGRoloBM2wme+GX2AOUOjBAgwwme+GQLMGRolQIARPvPNEGDO0CgBnbARPvPN6ITNGRoloBM2wmd3M/4aapendhoEaCOzuwEC7PLUToMAbWR2N0CAXZ6Z09AJZ0ZlfyE6YftMtRLRiGnhsr8YAuwz1UqEAC1c9hejE7bPVCux8E7Y9/15Zj6jdZTCi5VSCxMTE2f/xWEU3gcEQTBPRBDwx2bhAv7Fd9H/nAkBwvYgAAKECQiPRyc8OALwPmEJF+iEJahvMRN9gLAMCIAAYQLC43EGQIAwAaHx6ISFwKdj0QkLwk9HoxGDAGECwuNxBgySAPzv6OJtFN4JF/8SB3siChlhPxAAAcIEhMfjDIAAYQLC49EJD44AdMISLtAJS1BHJzxA1NcdChoxYS8QAAHCBITH4wwQEoBOWAg8OmFB8L3RaMSEJUAABAgTEB6P9wkPkgB8nnDxNlDIFM+8byIEQIAwAeHxOAMGSUAURfu73e41Zn5cq9Vawsc2FOMbjcapcrm8SERf04+zvcnM94nobZIkV+v1ejAUFARfZBAEM0T0lIgechiGh5RS74nocMZjeuZ5XhrQd1NKjYZhmFo9kTGnt2zo8lzXvRKG4bTjOAucUoii6EiSJLNEdImI9m4HkJmfu657eTMBQRAsMrOWgGHP+w1mdWwlq4XbbQAAAABJRU5ErkJggg==",alt:"N/A"})})]}),Object(j.jsx)(I,{title:N,display:b,setDisplay:m,datas:o}),Object(j.jsx)(E,{title:N,display:O,setDisplay:v,datas:u})]})]})}))),B=Object(d.b)("groupsState","userState","friendsState")(Object(d.c)((function(e){var t=e.display,n=e.setDisplay,i=e.title,r=e.sendMsg,c=e.datas,s=e.friendUid,o=e.type,u=e.groupsState,l=e.getHistory,d=e.clearHisotry,b=e.id,f=e.page,m=e.setPage,p=e.isLastPage,h=e.friendsState,O=Object(a.useState)(!1),v=Object(g.a)(O,2),w=v[0],S=v[1],C=u.getGroupMembers,k=h.setCurrentChat;Object(a.useEffect)((function(){t&&l(b,f)}),[t]),Object(a.useEffect)((function(){t&&f>=1&&l(b,f)}),[f]);return Object(j.jsxs)("div",{className:t?"chat display":"chat",children:[Object(j.jsx)(A,{goback:function(){m(1),d(),n(!1),k({id:0})},title:i,rightIcon:2===o||5===o?function(){return Object(j.jsx)("li",{className:"more-icon",onClick:function(){S(!0),C(u.currentChat.groupId)}})}:null}),Object(j.jsx)(R,{display:w,setDisplay:S,title:i}),!w&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(y,{datas:c,friendUid:s,getHistory:l,page:f,setPage:m,isLastPage:p}),Object(j.jsx)(x,{sendMsg:r,friendUid:s})]})]})}))),M=n(63),D=n.n(M),W=D.a.create({timeout:12e3,transformRequest:[function(e){return e=JSON.stringify(e)}],transformResponse:[function(e){return"string"===typeof e&&e.startsWith("{")&&(e=JSON.parse(e)),e}]});W.interceptors.request.use((function(e){var t=JSON.parse(sessionStorage.getItem("user")||"{}"),n=t.sid,a=t.uid;return e.headers=Object(i.a)(Object(i.a)({},e.headers),{},{SID:n,UID:a}),e.url="".concat("api/").concat(e.url),e}),(function(e){return e.msg="\u670d\u52a1\u5668\u5f02\u5e38\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\uff01",Promise.resolve(e)})),W.interceptors.response.use((function(e){var t=e.data;if(0!==t.code&&z(t))return Promise.reject(t);return t}),(function(e){return(e={response:{}}).response.data={},e.response.message="\u8bf7\u6c42\u8d85\u65f6\u6216\u670d\u52a1\u5668\u5f02\u5e38\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u6216\u8054\u7cfb\u7ba1\u7406\u5458\uff01",Promise.reject(e.response)}));var U,z=function(e){return 201===e.code?(sessionStorage.clear(),window.location.replace("/login"),u.a.fail(e.message),!0):(u.a.fail(e.message),!0)},L=W,F=function(e,t){return L({url:e,method:"get",params:t,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"}})},Q=function(e,t){return L({url:e,method:"post",data:t,headers:{"Content-Type":"application/json;charset=utf-8"}})},V=function(e){return Q("/api/user/login/byPwd",e)},J=n(13),Z=n(48),H=n(126),K=n(86),q=n.n(K),G=q.a.lookup("protocol.WSBaseReqProto"),P=q.a.lookup("protocol.WSBaseResProto"),T=function(){function e(t){var n=this;Object(J.a)(this,e),this.ws=null,this.connect=function(e){n.ws=new H.a(e,"",{debug:!1})},this.open=function(){n.ws.onopen=function(e){n.loginWs(),n.webSocketPing()}},this.close=function(){n.ws.addEventListener("close",(function(){console.log("\u5173\u95ed\u8fde\u63a5"),n.ws.reconnect()}))},this.errorHandle=function(){n.ws.onerror=function(){console.log("\u8fde\u63a5\u53d1\u9001\u9519\u8bef"),n.ws.reconnect()}},this.loginWs=function(){var e=sessionStorage.getItem("user");if(console.log("\u767b\u5f55ws",e),e){var t=JSON.parse(e||""),i={sid:t.sid,uid:t.uid,type:1};n.send(i)}},this.send=function(e){var t=G.create(e),i=G.encode(t).finish();n.ws.send(i)},this.message=function(e){n.ws.onmessage=function(t){var n=t.data,i=new FileReader;i.readAsArrayBuffer(n),i.onload=function(){var t=new Uint8Array(i.result),n=P.decode(t);console.log(n),e.dispatchEvent(n.type,n)}}},null==this.ws&&this.connect(t)}return Object(Z.a)(e,[{key:"webSocketPing",value:function(){var e=this;U=setTimeout((function(){console.log("\u5fc3\u8df3");var t=sessionStorage.getItem("user"),n=JSON.parse(t||""),i={sid:n.sid,uid:n.uid,type:0};e.send(i),clearTimeout(U),e.webSocketPing()}),2e3)}},{key:"htmlSpecialChars",value:function(e){return e=(e=(e=(e=(e=e.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")).replace(/'/g,"&#039;")}}]),e}(),Y=function(){function e(){Object(J.a)(this,e),this.handlers={}}return Object(Z.a)(e,[{key:"addEventListener",value:function(e,t){e in this.handlers||(this.handlers[e]=[]),this.handlers[e].push(t)}},{key:"dispatchEvent",value:function(e,t){if(!(e in this.handlers))return new Error("\u672a\u6ce8\u518c\u8be5\u4e8b\u4ef6");this.handlers[e].forEach((function(e){e(t)}))}},{key:"removeEventListener",value:function(e,t){if(!(e in this.handlers))return new Error("\u65e0\u6548\u4e8b\u4ef6");if(t){var n=this.handlers[e].findIndex((function(e){return e===t}));if(-1===n)return new Error("\u65e0\u8be5\u7ed1\u5b9a\u4e8b\u4ef6");this.handlers[e].splice(n,1),0===this.handlers[e].length&&delete this.handlers[e]}else delete this.handlers[e]}}]),e}(),X=null,_=null,$=function(){var e=sessionStorage.getItem("user");if(X||(X=new Y),_)return _.loginWs(),void _.webSocketPing();if(e){var t=JSON.parse(e);(_=new T("wss://".concat(t.ws,"/ws"))).message(X),_.onopen=function(){},_.loginWs(),_.webSocketPing()}},ee=($(),n.p+"static/media/logo.066b667d.png");n(219);var te=Object(d.b)("userState")(Object(d.c)((function(e){var t=e.userState,n=t.showDownLoadLink,i=t.setShowDownLoadLink,r=t.isIosLink,c=t.setIsIosLink;function o(){var e=navigator.userAgent,t=new RegExp("(".concat(["Mac","(iPhone|iPod|iPad)(?!.*Safari/)"].join("|"),")"),"ig");return Boolean(e.match(t))}return Object(a.useEffect)((function(){(function(){var e=navigator.userAgent,t=new RegExp("(".concat(["wv","WebView","webview"].join("|"),")"),"ig");return Boolean(e.match(t))})()&&i(!1),o()&&c(!0),o()||c(!1)}),[]),console.log(navigator.userAgent),console.log(navigator.userAgent),Object(j.jsx)(j.Fragment,{children:n&&Object(j.jsxs)("div",{className:"download_link",style:{bottom:"".concat(e.loginPage?0:"8%")},children:[Object(j.jsxs)("div",{className:"content",children:[Object(j.jsx)("img",{src:ee,alt:"logo"}),Object(j.jsxs)("h4",{children:["\u804a\u5929\u5c31\u6765\u4e50\u804a",Object(j.jsx)("p",{children:"\u968f\u65f6\u968f\u5730,\u60f3\u804a\u5c31\u804a!"})]})]}),r?Object(j.jsx)(s.b,{to:"/iosdownload",onClick:function(){return i(!1)}}):Object(j.jsx)("a",{href:"/leliao.apk",download:!0,onClick:function(){return i(!1)}}),Object(j.jsx)("img",{src:"data:image/png;base64,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",alt:"cancel",onClick:function(){return i(!1)}})]})})}))),ne=(n(220),Object(d.b)("userState")(Object(d.c)((function(e){var t=Object(a.useRef)(null),n=Object(l.g)().push,r=Object(l.g)(),c=e.userState,s=Object(a.useState)(),o=Object(g.a)(s,2),d=o[0],b=o[1],A=Object(a.useState)(),f=Object(g.a)(A,2),m=f[0],p=f[1],h=c,O=h.updateUser;h.setShowDownLoadLink;return Object(j.jsxs)("div",{className:"login",children:[Object(j.jsxs)("div",{className:"main",children:[Object(j.jsx)("p",{className:"title",children:"\u767b\u9646\u540e\u53d1\u73b0\u66f4\u7cbe\u5f69"}),Object(j.jsx)("div",{className:"username",children:Object(j.jsx)("input",{ref:t,autoFocus:!0,type:"text",placeholder:"\u8bf7\u8f93\u5165\u8d26\u53f7\u6216\u624b\u673a\u53f7",onChange:function(e){return b(e.target.value)}})}),Object(j.jsx)("div",{className:"pwd",children:Object(j.jsx)("input",{type:"password",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",onChange:function(e){return p(e.target.value)}})}),Object(j.jsx)("div",{className:"login-btn",onClick:function(){d&&m?(u.a.loading("Loading...",0),V({account:d,pwd:m}).then((function(e){0==e.code&&(O(Object(i.a)(Object(i.a)({},e.data),{},{isLogin:!0})),u.a.hide(),u.a.success("\u767b\u5f55\u6210\u529f!"),$(),r.replace("/"))})).catch((function(e){u.a.fail(e.message)}))):u.a.fail("\u8bf7\u8f93\u5165\u8d26\u53f7\u6216\u5bc6\u7801")},children:"\u767b\u5f55"}),Object(j.jsxs)("div",{className:"reg-btn",onClick:function(){n("/r")},children:[Object(j.jsx)("span",{className:"icon"}),Object(j.jsx)("span",{className:"text",children:"\u5207\u6362\u5230\u5feb\u901f\u6ce8\u518c"})]})]}),Object(j.jsx)(te,{loginPage:!0})]})})))),ie=(n(60),Object(d.b)("registerState")(Object(d.c)((function(e){var t=e.registerState,n=t.phoneNumber,i=t.register,a=t.changePhoneNum,r=t.changeStep;return Object(j.jsxs)("div",{className:"main",children:[Object(j.jsx)("p",{className:"reg-title",children:"\u6ce8\u518c"}),Object(j.jsx)("p",{className:"reg-remark",children:"\u672a\u6ce8\u518c\u624b\u673a\u9a8c\u8bc1\u540e\u5b8c\u6210\u6ce8\u518c"}),Object(j.jsxs)("p",{className:"reg-mobile",children:[Object(j.jsx)("span",{className:"area",children:"+86"}),Object(j.jsx)("input",{type:"tel",pattern:"\\d*",autoFocus:!0,onChange:function(e){a(e.target.value)},placeholder:"1\u4e2a\u624b\u673a\u53f7\u53ea\u80fd\u6ce8\u518c1\u4e2a\u8d26\u53f7"})]}),Object(j.jsx)("p",{className:11!==n.length?"reg-btn no-activity":"reg-btn",onClick:function(){11===n.length?i().then((function(e){0===e.code&&(u.a.success("\u53d1\u9001\u6210\u529f",1.5),r(2))})):u.a.fail("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7")},children:"\u83b7\u53d6\u9a8c\u8bc1\u7801"})]})})))),ae=Object(d.b)("registerState")(Object(d.c)((function(e){var t=e.registerState,n=t.phoneNumber,i=t.register,r=t.changeStep,c=Object(a.useState)(!0),s=Object(g.a)(c,2),o=s[0],l=s[1],d=Object(a.useState)(60),b=Object(g.a)(d,2),A=b[0],f=b[1],m=Object(a.useState)(""),p=Object(g.a)(m,2),h=p[0],O=p[1];Object(a.useEffect)((function(){var e;return o&&(e=setInterval((function(){f((function(t){return t<=1?(l(!1),clearInterval(e),60):t-1}))}),1e3)),function(){return clearInterval(e)}}),[o]),Object(a.useEffect)((function(){4===h.length&&v()}),[h]);var v=function(){var e;u.a.loading("Loading..."),(e={code:h},Q("/api/user/login/checkCode",e)).then((function(e){r(3),u.a.success("\u9a8c\u8bc1\u901a\u8fc7")})).catch((function(e){u.a.fail(e.message||"\u9a8c\u8bc1\u7801\u9519\u8bef"),O("")}))};return Object(j.jsxs)("div",{className:"main reg-two",children:[Object(j.jsx)("p",{className:"reg-title",children:"\u9a8c\u8bc1\u7801"}),Object(j.jsxs)("p",{className:"reg-remark",children:["\u5df2\u53d1\u9001\u9a8c\u8bc1\u7801\u81f3\uff1a",n]}),Object(j.jsxs)("p",{className:"reg-mobile",children:[Object(j.jsx)("span",{className:"in-num ".concat(h[0]?"check":""),children:h[0]}),Object(j.jsx)("span",{className:"in-num ".concat(h[1]?"check":""),children:h[1]}),Object(j.jsx)("span",{className:"in-num ".concat(h[2]?"check":""),children:h[2]}),Object(j.jsx)("span",{className:"in-num ".concat(h[3]?"check":""),children:h[3]}),Object(j.jsx)("input",{type:"number",pattern:"\\d*",autoFocus:!0,value:h,onChange:function(e){return O(e.target.value)}})]}),Object(j.jsx)("span",{className:"reset",onClick:function(){return i().then((function(e){u.a.success("\u6210\u529f\u53d1\u9001")})),void l(!0)},children:"\u91cd\u65b0\u53d1\u9001".concat(o?A:"")})]})}))),re="data:image/png;base64,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",ce="data:image/png;base64,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",se=Object(d.b)("registerState","userState")(Object(d.c)((function(e){var t=e.registerState,n=e.userState,r=Object(a.useState)(""),c=Object(g.a)(r,2),s=c[0],o=c[1],d=Object(a.useState)(""),b=Object(g.a)(d,2),A=b[0],f=b[1],m=Object(l.g)(),p=Object(a.useState)(""),h=Object(g.a)(p,2),O=h[0],v=h[1],w=Object(a.useState)(!1),y=Object(g.a)(w,2),S=y[0],C=y[1],x=Object(a.useState)(!1),k=Object(g.a)(x,2),N=k[0],I=k[1],E=n.updateUser;Object(a.useEffect)((function(){var e=window.location.href,t=e.lastIndexOf("?"),n=e.substring(t+1,e.length);n!==e&&v(n)}),[]);var R=t,B=R.phoneNumber,M=R.changeStep,D=R.changePhoneNum,W=function(){var e;s===A?(u.a.loading("Loading..."),(e={name:B,pwd:s,phone:B,recommend:O},Q("/api/user/login/register",e)).then((function(e){0===e.code&&(D(""),V({account:B,pwd:s}).then((function(e){M(1),E(Object(i.a)(Object(i.a)({},e.data),{},{isLogin:!0})),$(),m.replace("/"),u.a.success("\u606d\u559c\u60a8,\u6ce8\u518c\u6210\u529f!")})).catch((function(e){u.a.fail(e.message)})))})).catch((function(e){u.a.fail(e.message)}))):u.a.fail("\u5bc6\u7801\u4e0d\u4e00\u81f4,\u8bf7\u91cd\u65b0\u8f93\u5165",1.5)};return Object(j.jsxs)("div",{className:"main reg-three",children:[Object(j.jsx)("p",{className:"reg-title",children:"\u8bbe\u7f6e\u5bc6\u7801"}),Object(j.jsxs)("p",{className:"reg-mobile",children:[Object(j.jsx)("input",{type:S?"text":"password",autoFocus:!0,placeholder:"6-12\u4f4d\u6570\u5b57+\u5b57\u6bcd\u7684\u7ec4\u5408",onChange:function(e){return o(e.target.value)}}),S?Object(j.jsx)("img",{className:"passwordImg",src:re,onClick:function(){return C(!S)}}):Object(j.jsx)("img",{className:"checkpasswordImg",src:ce,onClick:function(){return C(!S)}})]}),Object(j.jsxs)("p",{className:"reg-mobile",children:[Object(j.jsx)("input",{type:N?"text":"password",placeholder:"\u786e\u8ba4\u5bc6\u7801",onChange:function(e){return f(e.target.value)}}),N?Object(j.jsx)("img",{className:"passwordImg",src:re,onClick:function(){return I(!N)}}):Object(j.jsx)("img",{className:"checkpasswordImg",src:ce,onClick:function(){return I(!N)}})]}),Object(j.jsx)("p",{className:""===s||""===A?"reg-btn no-activity":"reg-btn",onClick:function(){return W()},children:"\u786e\u8ba4"})]})}))),oe=Object(d.b)("registerState")(Object(d.c)((function(e){var t=e.registerState,n=t.step,i=t.changePhoneNum,a=t.changeStep,r=Object(l.g)().replace;return Object(j.jsxs)("div",{className:"register",children:[Object(j.jsx)(A,{goback:function(){return 1===n?(i(""),void r("/login")):2===n?(i(""),void a(1)):3===n?(i(""),void a(2)):void 0},title:"\u6ce8\u518c",service:""}),1===n&&Object(j.jsx)(ie,{}),2===n&&Object(j.jsx)(ae,{}),3===n&&Object(j.jsx)(se,{})]})}))),ue=[{name:"\u6d88\u606f",icon:"msg-icon",iconCheck:"msg-live",path:"/"},{name:"\u670b\u53cb",icon:"friend-icon",iconCheck:"friend-live",path:"/friends"},{name:"\u6211\u7684",icon:"my-icon",iconCheck:"my-live",path:"/my"}],le=(n(221),Object(d.b)("commonState","msgState")(Object(d.c)((function(e){var t=Object(l.g)(),n=Object(l.h)(),i=Object(a.useRef)(null),r=e.commonState,c=e.msgState.total;return Object(a.useEffect)((function(){var e=i.current;e&&r.updateFooterHeight(e.clientHeight)}),[]),Object(j.jsx)("ul",{className:"navBar",ref:i,children:ue.map((function(e,i){return Object(j.jsxs)("li",{onClick:function(){return n=e.path,void t.replace(n);var n},className:e.path===n.pathname?"activity":"",children:["msg-icon"===e.icon&&c>0&&Object(j.jsx)("span",{className:"total",children:c}),Object(j.jsxs)("div",{className:"icon",children:[Object(j.jsx)("i",{className:"icons ".concat(e.icon)}),Object(j.jsx)("i",{className:"icons ".concat(e.iconCheck)})]}),Object(j.jsx)("span",{className:e.path===n.pathname?"activity-font":"",children:e.name})]},e.name)}))})})))),de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Q("/api/group/msg/create",e)},ge=function(e){return function(e,t){return D.a.post("api/"+e,t,{headers:{"Content-Type":"multipart/form-data"}})}("/api/file/img/upload",e)},be=function(e){return Q("/api/user/friend/search",{account:e,reqNo:"",timeStamp:0})},je=function(e,t){return Q("/api/user/friendAsk/ack",{status:e,id:t,reqNo:"",timeStamp:0})},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Q("/api/user/friendMsg/create",e)},fe=function(e){return Q("/api/group/user/clearUnMsgCount",e)};n(222);var me=Object(d.b)("userState","msgState","groupsState","friendsState")(Object(d.c)((function(e){var t=e.msgState,n=e.userState,i=e.groupsState,r=e.friendsState,c=i.isLastPage,s=i.messagesHistory,o=i.setCurrentChat,u=i.groupHisotrys,l=i.clearGroupHisotry,d=i.myselfMsg,b=Object(a.useState)(),m=Object(g.a)(b,2),p=m[0],h=m[1],O=Object(a.useState)(1),v=Object(g.a)(O,2),w=v[0],y=v[1],S=r.setCurrentChat,C=r.getMessageHistory,x=r.messagesHistory,k=r.clearFriendHisotry,N=r.myselfMsg,I=r.isLastPage,E=t,R=E.msgHisotry,M=E.addHistoryItem,D=E.init,W=E.initMessags,U=E.setCurrentChatByMsgStore,z=Object(a.useState)({}),L=Object(g.a)(z,2),V=L[0],J=L[1],Z=n.user,H=Object(a.useState)(!1),K=Object(g.a)(H,2),q=K[0],G=K[1],P=function(){F("/api/user/friend/lists",{}).then((function(e){e.data.map((function(e){if(e.lastMsgContent){var t={id:e.user.uid,type:1,name:e.remark||e.user.name,remark:e.user.remark,avatar:e.user.avatar,lastMsgContent:e.lastMsgContent,unMsgCount:e.unMsgCount,modifiedTime:e.modifiedTime,dataTime:e.modifiedTime};M(t)}}))}))},T=function(){F("/api/group/user/lists",{}).then((function(e){e.data.map((function(e){if(e.lastMsgContent){var t={id:e.groupId,type:2,name:e.remark||e.group.name,remark:e.group.remark,avatar:e.group.avatar,lastMsgContent:e.lastMsgContent,unMsgCount:e.unMsgCount,modifiedTime:e.lastMsgTime,dataTime:e.lastMsgTime};M(t)}}))}))},Y=function(e){(function(e){return Q("/api/user/friendMsg/clearUnMsgCount",e)})(e).then((function(){}))},X=function(e){fe(e).then((function(){}))};return Object(a.useEffect)((function(){Z.isLogin&&D||(T(),P(),W())}),[]),Object(a.useEffect)((function(){!q&&V.type&&(2===V.type?X({groupId:V.id}):Y({receiverUid:V.id}),o({groupId:0,id:0}),U({groupId:0,id:0}))}),[q]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(A,{title:"\u6d88\u606f"}),Object(j.jsx)("div",{className:"chat_container",children:function(e){var t=[];return Object.keys(e).map((function(n){t.push(e[n])})),t.sort((function(e,t){var n=new Date(e.dataTime);return new Date(t.dataTime).getTime()-n.getTime()})),t}(R).map((function(e,t){var i,a;return i=e.groupAvatar?n.user.imgUrl+e.groupAvatar:n.user.imgUrl+e.avatar,Object(j.jsxs)("div",{className:"single_chat",onClick:function(){return function(e){var t=e.type,n=e.id;G(!0),J(e),1===t?(h(e.id),Y({receiverUid:n}),U({id:n}),S(n),C(e.id)):(X({groupId:n}),u(n),o(n),U({groupId:n})),e.unMsgCount=0}(e)},children:[Object(j.jsxs)("div",{className:"avatar",children:[e.unMsgCount>0?Object(j.jsx)("p",{className:"unread",children:e.unMsgCount}):null,Object(j.jsx)("img",{src:i,alt:"",onError:function(e){e.target.onerror=null,e.target.src=f}})]}),Object(j.jsxs)("div",{className:"content_text",children:[Object(j.jsxs)("div",{className:"content_title",children:[Object(j.jsx)("h4",{className:"content_title_name",children:e.name}),Object(j.jsx)("p",{className:"content_title_time",children:e.modifiedTime})]}),Object(j.jsx)("p",{dangerouslySetInnerHTML:{__html:(a=e.lastMsgContent,a.replace(/:emoji\[([^\s\[\]]+?)\]/g,(function(e){var t=e.replace(/^:emoji/g,"");return t=t.slice(1,t.length-1),'<i class="emoji-icon emoji-'.concat(t,'"></i>')})).replace(/\n/g,"<br>"))}})]})]},t)}))}),Object(j.jsx)(te,{}),Object(j.jsx)(le,{}),Object(j.jsx)(B,{id:V?V.id:0,page:w,setPage:y,isLastPage:1===V.type?I:c,friendUid:p,clearHisotry:1===V.type?k:l,getHistory:1===V.type?C:u,datas:1===V.type?x:s,type:V.type,sendMsg:function(e){var t={groupId:V.id,msgType:0,msgContent:e},n={receiverUid:p,msgType:0,msgContent:e};1===V.type?(N({receiveId:p,msgContent:e,msgType:0}),Ae(n).then((function(e){}))):(d(t),de(t).then((function(e){})))},display:q,setDisplay:G,title:(null===V||void 0===V?void 0:V.name)||""})]})}))),pe=n(21),he=n.n(pe),Oe=n(35),ve=(n(224),n(225),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAACoklEQVRIS62VzU8TURTFz5mZkpC0tV3BwkTCxrQButAIkvixMRr3EHTryoWGhQk7rUsXJkYTd641/ANqZCWJgiEhHcDiQiVRF8QE+0UIaWeOeUMLbZ0igm85c9/v3XfeufcSIWt1dTW2vb2dJnkZwHkAJwEkAHgkf0paAzAr6fXW1lZ+ZGSk1I5h8wdJluu6JwBcJzkh6TiAKEmnbWNV0ibJ7yRfSHo+ODi4RtJvxO2Cp6en7VQqNQzgrqRRALGw24R8KwN4T/J+Pp+fHx8f90xMAM5ms9bY2Nhpz/MeSTpD0j4gNAiTZCT6YNv2ZDqdXjCZB+DFxcU+y7Iek7wKIIBKAtmiVOhZTXGepJcAbmcyma80D1WtVm9JmgIQD65BwnEc1Gq14IBOKySuRPJBJBJ5wpWVleFarfaMZNowDSgSiaCnpweVSgWlUgm+77dkb2Isy0I8Hkc0GsX6+jqq1aqJkaSPjuPcYC6XywKYJHmsIUFjUyKRQKFQaIE3Qzv8LwJ4RNd1ZyRdaLZUp82e58G27SDTMGg9sRrJtwb8DYDxa8sKg5fLZcRisY7QBkDSDwM2PoyGPVADbmDJZDLQsaurCxsbGzCHtGvfxNg04AKAQN9OcHP93t7eQIJisRg8lpFlHzsG4M8A+v9nxg0p3ki62N4PDquxpJ3Ha7fbfpY7oCt27BZWIEfw8V6BNEoawJSk+FEqz7Is05d3Stpc3XXdfpJPJV0CYB2yV5hePAPg5tDQ0JcAbBp8LpcbJfkQwCnTNv+lu9Uny4Lv+3cymcy73bZZh9vLy8vDku4BOHuYRj8wMDBPcq/RN5WitbS01EfymqQJU+qS/hhNdUtVAPx9NDUXyNzcXLy7uzsF4ArJc/VhmqzH/ALwSdIsgFedhulvq1cFmXTCMmQAAAAASUVORK5CYII="),we=Object(d.b)("userState")(Object(d.c)((function(e){var t=e.userState,n=(e.friendResult,e.setFriendResult,e.friendAccount),i=e.setFriendAccount,r=e.searchFriend,c=Object(a.useState)(!1),s=Object(g.a)(c,2),o=s[0],u=s[1],d=Object(l.g)(),A=(b().onService,e.goback),f=e.title;e.service,e.rightIcon,e.search;return Object(j.jsxs)("header",{className:"add_friend_header",children:[Object(j.jsxs)("ul",{className:"add_friend_container ",children:[A&&Object(j.jsx)("li",{className:"add_friend_goback",onClick:function(){i(""),u(!1),"function"===typeof A?A():A&&d.replace(A)}}),Object(j.jsx)("li",{className:"add_friend_title",children:f})]}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(n)},className:"search_form",children:[Object(j.jsx)("input",{type:"text",className:"add_friend_input",onFocus:function(){return u(!0)},value:o?n:"",onChange:function(e){return i(e.target.value)}}),Object(j.jsx)("button",{className:"".concat(o?"search_button_focus":"search_button"),type:"submit",children:Object(j.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAXCAYAAAAP6L+eAAADqElEQVRIS62VS2hcZRTH///v3hmHaNXaBmdiBDci+OhGxQctuvCFioYaH8WNSWa8M0kzmFEIgra3aBcWMdpm4r0zhCj2QSeLuhJsEkQQulEXVsGVaKt5WEyiNhNnMvc78g0zYdKHZILf8rvn/L5zz+N/iEsc3/dDQRDcqZR6gOQtInIdSQXgTwC/ADhVqVS+7OvrO38pf3PHxg+u66q2trZtAAZEZAeATQB+E5GzJCsAYgBurDqSPwA4OD09fdJ13fKFD6yCXde1o9FoB8n9JK8QkeMkj5GcsW27VC6XpVQqhS3LukYp9ZhSKi4i15McWVxcfH9wcPDvRngVbCKNRqM7SX5I8vsgCAbn5ua+dV3XRHnRMfatra03WJa1l2QngCyA/Y7jFOvGVbDneXeRPArg1yAI4r29vT9dLneN96Ojo5tWVlbeIvmSiOyempo6Nj4+HlRTZQqltf5IKbVdKbUzkUh8sx5o3cb3/a0icphkFMBTjuOcqYLz+fyOIAiOKKU+npiYcOsvNgnvAJADsHdycjJnGPQ87w2S/QAechzndDPAuu3Q0NC1LS0tnwJYrlQqz5o2NODDAG4ul8tPptPpcxsBGx/f90dE5FHLsu5PJBJzJsefAThfKpXi6XT6r42CPc8bJLm7XC4/3N/f/6OJ+CTJc7ZtJ3t6etb0YjOP+L7/KoBXADxuUspcLjcuIpsty3ouHo/PNwNrtPV9/x0AL4RCoe3d3d1nTSreBdCptX4wlUr9vBGw67rhWCw2bka+WCw+MjAwsGhS0WnGUkReSyaTnwCQZuHZbPZu27aPAxifmZl502gHh4eHt4TD4RNa65CIPJ1KpX5vBlwoFMLz8/MHSO4SkSeSyeTXq+rmed4ukgdF5EixWHw9k8ksrwdeKBSshYWF5wF8oLXOLS8vv133rWrF2NhYpFQqmZl/GcChpaWl9zKZzH8WshbpMyQPADBiZcZ5dcBWZXNkZGSzUmpfTVA+J5kH8FWjYtWU0I7FYttExPxlDwALQMhoGYB9juOYZbBW6LPZ7FW2bb8IIFMT+dNGRrXWZ4zQi0iU5K0AbgewBUCe5CkR2QPgtppe7DHwNRukHlF7e/tNWusOU8zaxjBrqX4WROQLETkaiUS+6+rq+iefz9+rtR5uhF8ErnubwszOzl4J4OpIJLI1CIKw1nqe5B+VSqWYTqdLDY8ZlbxHa31IRO4w7XtZ8Hq64kIbz/PuIzlklu7/CjY1y+Vypgb4F1iFodf+xjCSAAAAAElFTkSuQmCC",alt:"searchImg",className:"searchImg",style:{zIndex:-1}})}),o&&Object(j.jsx)("button",{className:"cancel_button_focus",onClick:function(){return i("")},children:Object(j.jsx)("img",{src:ve,alt:ve,className:"searchImg"})}),o&&Object(j.jsx)("p",{className:"cancel_text_focus",onClick:function(){u(!1),i("")},children:"\u53d6\u6d88"})]}),Object(j.jsxs)("p",{className:"add_friend_account",children:["\u6211\u7684\u8d26\u53f7: ",t.user.account]})]})})));var ye=Object(d.b)("userState")(Object(d.c)((function(e){var t=e.userState,n=e.display,i=e.setDisplay,r=Object(a.useState)([]),c=Object(g.a)(r,2),s=c[0],o=c[1],l=Object(a.useState)(""),d=Object(g.a)(l,2),b=d[0],A=d[1],m=t.user.imgUrl,p=function(){var e=Object(Oe.a)(he.a.mark((function e(t){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.a.loading("\u6dfb\u52a0\u4e2d"),(n=t.toString(),Q("/api/user/friendAsk/create",{friendUid:n,reqNo:"",timeStamp:0})).then((function(e){u.a.success("\u6dfb\u52a0\u6210\u529f"),o([]),i(!1)}));case 2:case"end":return e.stop()}var n}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(Oe.a)(he.a.mark((function e(t){var n,i;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=11;break}return u.a.loading("\u641c\u5bfb".concat(t),.7),A(""),e.next=5,be(t);case 5:return n=e.sent,e.next=8,n.data;case 8:i=e.sent,o(i),0===i.length&&u.a.info("\u65e0\u7ed3\u679c",.7);case 11:return e.abrupt("return");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:n?"create_group_container addGroup":"create_group_container",children:[Object(j.jsx)(we,{searchFriend:h,friendAccount:b,setFriendAccount:A,friendResult:s,setFriendResult:o,search:!0,title:"\u6dfb\u52a0\u670b\u53cb",goback:function(){return i(!1)}}),Object(j.jsxs)("div",{className:"add_friend_content",children:[b&&Object(j.jsxs)("div",{className:"single_friend",onClick:function(){return h(b)},children:[Object(j.jsx)("div",{className:"avatar_search",children:Object(j.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAkCAYAAADsHujfAAAE8klEQVRYR8WYZ4idVRCGn7H3rlixF1RU7IIKth927AVEiSUktqhosFeCMcYWC1gQFYMtkGgU7BVbLEQTxILYEnuPGuvIc50v3Gx2N7ubXTzwsbv3fmfOe6a8884GPViZuQiwBrAKsBqwArAcsBjwJ/AD8A3wOTAdmBYR3/XA9KxXoruXM9ODPHx7YDdga2BVYAHgn3q0MT+QBegt4HngaeBDP4sIv+t2dQokM/3cW+8JHApsBiwB+Lk3/QT4CvgNWBBYFlgTWBFYuD7/GHgIeAD4ICL+6g7JHEAKxEbA0cC+wAZ16OPAyxoFvgd+BTQ+H2Dolq6wbQnsAWwMfAs8Bdzpz4gwjJ2u2YAUCA0NBQ6oEDwKPNKA6M5Y7V8Z2KrA7FfgngNuBiZGhBeYY80C0uaJM4Ej6zb3AbcDUyPi77nFuf37zFypwnossCnwBnBxeWZmR1stIAXCjacDJ1SMbwF8pkeEidnrlZmLV3i93CaA4b0MmNTRZgPEDYcBZ1VV3AaMjojPen16hw2ZuShwMHBhJfNNwI0RYcLPXr6ZuT5wXZXog26KiKnzCqLZn5lWlXl3RoX8XOD+9rKOzFwSOAgYAfwOnA+M7Ws4ugKfmVaRl90ZuNUQRYTk11oC2bCSSM6w5i+PiPf7yxttXvHCg8srnwIXAY81/CKQXY0ZYLKaVHfMjXz6ArIKYhvgquKYUcC1TTkL5Jj68gtgSEQ825eDerInM5cHril6GAucHBH2qVZohgNnAy8BwyPCXjEgq8r5POC06kWDIsJG2QIyEjgOsFpGDER+tOWJpWz1ePEpFYF3GiBjgMMBWXRURHw0IO74jzjtSYMAy9dzhkXEpAbI1cBRwDhgZETYugdkFbkdD5xTzdMcebMBIuMNA54ALoiIlqsGYpW+kdRk8FdsJ83FzZETi8wEcEpEvDoQILSZmUvJU9XPzMnBEfF145H9gRtK9AyNiAkDCGSdYtfdAXuOEfi5AaJ2GA2oQyQbSUbh068rMxcCvPSlpeL8eXdE2FZa5asmHQIYIhudDU+92a+rzvFwtY5yQIqf3PQ0gSh8dyiaXw+wiq6IiB/7C0lmqmv3Ks/bSgQ0JiJmCaRGj0i9MqxqyuSxE9/buG1eAWWm4b8E2AV40t8b/mhsN0AcD7YoCSByK8fstju2YtjXVe1fSj8CsKtrV+36S7vNds1qMil29YygXtB9pTFbjak3q8KxebUPmVt6f1h6j4h3O9rqqOIdqETuDdYF3isRo4EvO96iM2BVHU6BDmPqX2WGUtQha7JtBJjQpUcao5npILV3VZElPaNYcGJ5SVXlPKOq17iXcbYx6Z1t3KPIcjJ0KjTntCGH+M7bxSXj2keLriY9PbNdjQOGywlOsWujshdNqwOaSW+ZOnQtYG3A6nOpbe4qIIcAB9Yw5mhxfelWbbRu0+nKTG+pwR2BnWpo8m87qEOS5W35mejKQOnbpb4wBC8CzwCvlfcM1anAPjW8v145OD4iZnQ7hGu1eGb1GsSdgR1B9YBekx+ceawsgalFJUWrbko7T2SmgLcFTqrQmwJ2Xtl84lyBtOWOVeWjR/SA3GMSmi8/Vaj01B8+nU0BbWBkceleWyrCK3sMpIsKMXz0ZvRoA2NbMWf06vh5AtIbXml/tzjGMDlemDv3/C9AKvf0hDnnlDnpfwPSBsZ/7Mz8FyCpwdmrUuqnAAAAAElFTkSuQmCC",alt:"searchImg"})}),Object(j.jsx)("div",{className:"single_friend_content",children:Object(j.jsxs)("p",{className:"search_friend_name",children:["\u641c\u7d22:"," ",Object(j.jsxs)("span",{className:"search_friend_text",children:[" ",b]})]})})]}),s.length>0&&s.map((function(e){e.account;var t=e.name,n=e.uid,i=e.avatar;return Object(j.jsxs)("div",{className:"single_friend",children:[Object(j.jsx)("div",{className:"avatar",children:Object(j.jsx)("img",{src:"".concat(m).concat(i),alt:"",onError:function(e){e.target.onerror=null,e.target.src=f}})}),Object(j.jsxs)("div",{className:"single_friend_content",children:[Object(j.jsx)("p",{className:"friend_name",children:t}),Object(j.jsx)("button",{className:"agree_button",onClick:function(){return p(n)},children:"\u6dfb\u52a0"})]})]},n)}))]})]})})));var Se=Object(d.b)("friendsState","msgState","userState")(Object(d.c)((function(e){var t=e.friendsState,n=e.userState,i=e.msgState,r=t.updateFriendsAdded,c=t.friendsAddedData,s=t.getUpdateFriendsAddedList,o=t.init,u=t.messagesHistory,l=t.setCurrentChat,d=t.friendsData,b=t.getMessageHistory,m=t.getFriendList,p=t.isLastPage,h=t.clearFriendHisotry,O=t.myselfMsg,v=i.setCurrentChatByMsgStore,w=Object(a.useState)(1),y=Object(g.a)(w,2),S=y[0],C=y[1],x=Object(a.useState)(!1),k=Object(g.a)(x,2),N=k[0],I=k[1],E=Object(a.useState)(!1),R=Object(g.a)(E,2),M=R[0],D=R[1],W=Object(a.useState)(),U=Object(g.a)(W,2),z=U[0],L=U[1],F=Object(a.useState)(),Q=Object(g.a)(F,2),V=Q[0],J=Q[1],Z=function(){var e=Object(Oe.a)(he.a.mark((function e(t,n){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(c.filter((function(e){return e.id!==n}))),je(t,n).then((function(){m()}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){o||(m(),s())}),[]),Object(a.useEffect)((function(){!M&&z&&(l({groupId:0,id:0}),v({groupId:0,id:0}))}),[M]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(A,{title:"\u670b\u53cb",rightIcon:function(){return Object(j.jsx)("li",{className:"add-cion",onClick:function(){return I(!0)}})}}),Object(j.jsxs)("div",{className:"friends_container",children:[c.length>0&&c.map((function(e,t){var i=e.id,a=e.user,r=a.name,c=a.avatar,s=n.user.imgUrl+c;return Object(j.jsxs)("div",{className:"single_friend",children:[Object(j.jsx)("div",{className:"avatar",children:Object(j.jsx)("img",{src:s,alt:"",onError:function(e){e.target.onerror=null,e.target.src=f}})}),Object(j.jsxs)("div",{className:"single_friend_content",children:[Object(j.jsx)("p",{className:"friend_name",children:r}),Object(j.jsx)("button",{className:"agree_button",onClick:function(){return Z(1,i)},children:"\u6dfb\u52a0"}),Object(j.jsx)("button",{className:"decline_button",onClick:function(){return Z(2,i)},children:"\u62d2\u7edd"})]})]},t)})),d.length>0&&d.map((function(e,t){var i=e.user,a=i.name,r=i.avatar,c=n.user.imgUrl+r;return Object(j.jsxs)("div",{className:"single_friend",onClick:function(){return function(e){L(e),l(e.friendUid),J(e.friendUid),v({groupId:0,id:e.friendUid}),b(e.friendUid),D(!0)}(e)},children:[Object(j.jsx)("div",{className:"avatar",children:Object(j.jsx)("img",{src:c,alt:"",onError:function(e){e.target.onerror=null,e.target.src=f}})}),Object(j.jsx)("div",{className:"single_friend_content",children:Object(j.jsx)("p",{className:"friend_name",children:a})})]},t)}))]}),Object(j.jsx)(le,{}),Object(j.jsx)(ye,{display:N,setDisplay:I}),Object(j.jsx)(B,{id:z?z.friendUid:0,page:S,setPage:C,isLastPage:p,friendUid:V,clearHisotry:h,datas:u,sendMsg:function(e,t){var n={receiverUid:z.friendUid,msgType:0,msgContent:e,reqNo:"",timeStamp:0};O(n),Ae(n).then((function(e){}))},display:M,setDisplay:function(){return D(!1)},getHistory:b,title:(null===z||void 0===z?void 0:z.user.name)||""})]})})));n(226);var Ce=Object(d.b)("friendsState","userState")(Object(d.c)((function(e){var t=e.display,n=e.setDisplay,r=e.friendsState,c=e.userState,s=e.refreshData,o=r.friendsData,l=r.init,d=r.getFriendList,b=c.user,m=Object(a.useState)(!1),p=Object(g.a)(m,2),h=p[0],O=p[1],v=Object(a.useState)({avatar:"",name:""}),w=Object(g.a)(v,2),y=w[0],S=w[1],C=Object(a.useState)({}),x=Object(g.a)(C,2),I=x[0],E=x[1],R=Object(a.useState)(0),B=Object(g.a)(R,2),M=(B[0],B[1]);return Object(a.useEffect)((function(){M(Object.keys(I).length)}),[I]),Object(a.useEffect)((function(){l||d()}),[]),Object(j.jsxs)("div",{className:t?"create_group_container addGroup":"create_group_container",children:[Object(j.jsx)(A,{title:"\u521b\u5efa\u7fa4\u7ec4",goback:function(){return n(!1)}}),Object(j.jsxs)("div",{className:"create_newgroup",children:[Object(j.jsxs)("div",{className:"avatar avatar_create",children:[Object(j.jsx)("input",{type:"file",accept:"image/png, image/jpeg, image/gif, image/jpg",multiple:!1,onChange:function(e){return function(e){if(e.target.files){var t=e.target.files[0],n=new FormData;n.append("file",t,t.name),u.a.loading("\u6b63\u5728\u4e0a\u4f20\u4e2d...",0),ge(n).then((function(e){var t=e.data.data;S(Object(i.a)(Object(i.a)({},y),{},{avatar:t.url})),u.a.success("\u4e0a\u4f20\u6210\u529f")}))}}(e)}}),y.avatar?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("img",{src:b.imgUrl+y.avatar,alt:"camera",className:"camera"})}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAoCAYAAAC4h3lxAAAD5klEQVRYR+2YW6hVZRSFv9FNM0u7aEkXSZAuPib6YlRIliGEEZjgHTSCiEIlii5UYvRQSYQWaVZC9WKCFZUEkpRShokPXV6MHoqsSOlmV2cMmSd2m7XOWufs1d4Y54cNm73/Ndcc8zL+MX9xjC8d4/4zBKDXGRzKwP8mAxExH1gDnFID1C/A7cAmSVFjf+mWRkooIq4FXgCOAz6o4dBkOEogiyS9XmN/ZwAi4kRgAjAqX9xq8GzgCeBU4BZgG+CoFgWn7/crgWeA34DbgC/bPPS+H4D9kn7vD2BlBiLidGAFsBgYV2Lsp9yzXtJfVRGNCGfK9h4DTivZ/zXwPPCIpINlNusAuB+4G/gYeBf4s82YnfkIeLEqWq3PRcRJwE3AZcCRNpsnANOASxPAfZ0A+AL4A5gB+HvROjKYZowIB9ABKFrnA28BIyWd2wmAw8AbwHxJP1eVR1P/R8QIYCNwvaThnQD4FXg1GaMWgOybi4HxwBmAa9jZ+1TS90XORMRIYCbwmaR9CWA9cEMTAF4DFlZlIOt6drKRqdJR7GMeZ/JD4Clgc3u/RMRUYBew1U4DjvoGYHZXAGTE7gVuBX4EdialfgucBVydjWnWWQs80BqQiBiTTLbDZ0Pa6w6AiDBrmKnuScf9fVdrY2fDOsqrE8jDwEOS2lntaIV1G8DlwBbgc2COpP1lTRcRFwAvA5dkfW8v6QmX33+fgYgYliUxB7hR0ptVTBQRLqdX8nOzJBPFv1bXMhARPp3fTzkwQ5Lrv9+VjGNqvhCYIumrXgKYBOwG1gF3ltV02yl8fPaCddBU02YvAUwB3gH6mrJSHmdD3wVYIkyX9F4vAVwE7AGes8aXZNlRVUJmrUeBpcBkSdZZPeuBscAOwLL3iv6UY5+HETEaMPv49J0m6UAvATia5nbXsxnFErgqA/NyHngaWFmUta6xUB46bmRPVp4F5koqncoiwvL5pZQZsyTt7ek50FIWC4AnAZeDJYXPAw86BmXW8ax8DbAqB6M7fFCVyfCuZiCz4FIyiAdTgboxXeffAWcCVwHO1CHroHS+UEakve6cxAXNZxW6BJgFnJMDiyeub7LMLA92Vw1ATWfA84DltK9DKlfKCw/7VqGOvmcAq9IDkjzIV66IODm1UMfzgJ1+O5uz1kBT6V2NDZmBTcB1kgymcNUZ6j/J6xQPGa7r9gG8hjsD3uI52Wp1M3BY0sROACzL6w8zikVbv/c0A3a1+AHfQ1mi+B5qhSTrrEFnwOlbCCwHziu5sGrI73/MWE/5sutx4FlJHkcHB6Bpz5q2V9kDTb+waXtDAJqO6EDtDWVgoBFrev/fMpTVONVMAO4AAAAASUVORK5CYII=",alt:"camera",className:"camera"}),Object(j.jsx)("p",{className:"camera_name",children:" \u66f4\u6362 "})]})]}),!h&&Object(j.jsx)("div",{className:"create_content",onClick:function(){return O(!0)},children:"\u7fa4\u540d14\u4e2a\u5b57\u4ee5\u5185"}),h&&Object(j.jsx)("input",{autoFocus:!0,className:"create_input",value:y.name,onChange:function(e){S(Object(i.a)(Object(i.a)({},y),{},{name:e.target.value}))}}),Object(j.jsx)("button",{onClick:function(){if(y.avatar)if(y.name){var e=Object.keys(I);(function(){return Q("/api/group/create",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})})({avatar:y.avatar,name:y.name,ids:e.join(",")}).then((function(e){u.a.success("\u521b\u5efa\u6210\u529f"),s(),n(!1),S({avatar:"",name:""}),E({})}))}else u.a.fail("\u8bf7\u8f93\u5165\u7fa4\u7ec4\u540d\u79f0!");else u.a.fail("\u8bf7\u4e0a\u4f20\u7fa4\u56fe\u6807!")},children:"\u521b\u5efa"})]}),Object(j.jsx)("div",{className:"newgroups_container",children:o.map((function(e){return Object(j.jsxs)("div",{className:"single_newgroup",onClick:function(){return function(e){var t=I;I[e]?(delete t[e],E(Object(i.a)({},t))):E(Object(i.a)(Object(i.a)({},I),{},Object(k.a)({},e,e)))}(e.friendUid)},children:[Object(j.jsx)("div",{className:"".concat(I[e.friendUid]?"friendsChoosen":"option"),children:I[e.friendUid]&&Object(j.jsx)("img",{src:N,alt:"choosen"})}),Object(j.jsx)("div",{className:"avatar",children:Object(j.jsx)("img",{src:e.user.avatar,alt:"",onError:function(e){e.target.onerror=null,e.target.src=f}})}),Object(j.jsx)("div",{className:"single_newgroup_content",children:Object(j.jsx)("p",{className:"newgroup_name",children:e.user.name})})]},e.friendUid)}))})]})})));n(227);var xe=Object(d.b)("groupsState","msgState","userState")(Object(d.c)((function(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),i=n[0],r=n[1],c=Object(a.useState)(!1),s=Object(g.a)(c,2),o=s[0],u=s[1],l=Object(a.useState)(1),d=Object(g.a)(l,2),b=d[0],m=d[1],p=Object(a.useState)(),h=Object(g.a)(p,2),O=h[0],v=h[1],w=e.groupsState,y=e.msgState,S=e.userState,C=y.setCurrentChatByMsgStore,x=w.getGroupList,k=w.groupHisotrys,N=w.groupsData,I=w.init,E=w.messagesHistory,R=w.setCurrentChat,M=w.clearGroupHisotry,D=w.isLastPage,W=w.myselfMsg;return Object(a.useEffect)((function(){I||x()}),[]),Object(a.useEffect)((function(){!o&&O&&(fe({groupId:null===O||void 0===O?void 0:O.groupId}),R({groupId:0,id:0}),C({groupId:0,id:0}))}),[o]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(A,{title:"\u7fa4\u7ec4",rightIcon:function(){return Object(j.jsx)("li",{className:"add-cion",onClick:function(){return r(!0)}})}}),Object(j.jsx)("div",{className:"groups_container",children:N.map((function(e){var t=S.user.imgUrl+e.group.avatar;return Object(j.jsxs)("div",{className:"single_group",onClick:function(){return function(e){v(e),R(e.groupId),C(e),u(!0)}(e)},children:[Object(j.jsx)("div",{className:"avatar",children:Object(j.jsx)("img",{src:t,alt:"",onError:function(e){e.target.onerror=null,e.target.src=f}})}),Object(j.jsxs)("div",{className:"single_group_content",children:[Object(j.jsx)("p",{className:"group_name",children:e.group.name}),Object(j.jsx)("p",{className:"group_remark",children:e.group.remark})]})]},e.groupId)}))}),Object(j.jsx)(le,{}),Object(j.jsx)(Ce,{display:i,refreshData:x,setDisplay:r}),Object(j.jsx)(B,{display:o,clearHisotry:M,sendMsg:function(e){var t={groupId:null===O||void 0===O?void 0:O.group.groupId,msgType:0,msgContent:e};W(t),de(t).then((function(e){}))},datas:E,getHistory:k,id:O?O.group.groupId:0,page:b,setPage:m,isLastPage:D,setDisplay:function(){return u(!1)},title:(null===O||void 0===O?void 0:O.group.name)||"",type:2})]})}))),ke=function(e){return Q("/api/user/changeName",e)};var Ne=function(e){var t=e.display,n=e.setDisplayPwd,r=Object(a.useState)(!1),c=Object(g.a)(r,2),s=c[0],o=c[1],l=Object(a.useState)({oldPwd:"",newPwd:"",confirmPwd:""}),d=Object(g.a)(l,2),b=d[0],f=d[1],m=function(){f({oldPwd:"222",newPwd:"333",confirmPwd:"444"}),n(!1)},p=function(){var e,t=b.newPwd,n=b.confirmPwd,i=b.oldPwd;i.length<6||t.length<6||n.length<6||""!==t&&""!==n&&""!==i&&(t===n?(e={pwd:b.confirmPwd},Q("/api/user/changePass",e)).then((function(e){u.a.success("\u4fee\u6539\u6210\u529f!"),m()})):u.a.fail("\u4e24\u6b21\u5bc6\u7801\u4e0d\u4e00\u81f4"))};return Object(a.useEffect)((function(){b.oldPwd.length>=6&&b.newPwd.length>=6&&b.confirmPwd.length>=6?o(!0):o(!1)}),[b.oldPwd,b.newPwd,b.confirmPwd]),Object(j.jsxs)("div",{className:t?"pwd-modal display-pwd-modal":"pwd-modal undisplay-pwd-modal",children:[Object(j.jsx)(A,{title:"\u4fee\u6539\u5bc6\u7801",goback:m,rightIcon:function(){return Object(j.jsx)("button",{className:s?"right-icon right-icon-done":"right-icon right-icon-no-done",onClick:p,type:"submit",children:"\u5b8c\u6210"})}}),Object(j.jsxs)("form",{children:[Object(j.jsxs)("p",{className:"pwd old-pwd",children:[Object(j.jsx)("span",{children:"\u65e7\u5bc6\u7801"}),Object(j.jsx)("input",{type:"password",placeholder:"\u8bf7\u586b\u5199\u65e7\u5bc6\u7801",onChange:function(e){return f(Object(i.a)(Object(i.a)({},b),{},{oldPwd:e.target.value}))}})]}),Object(j.jsxs)("p",{className:"pwd new-pwd",children:[Object(j.jsx)("span",{children:"\u65b0\u5bc6\u7801"}),Object(j.jsx)("input",{type:"password",placeholder:"\u8bf7\u586b\u5199\u65b0\u5bc6\u7801",onChange:function(e){return f(Object(i.a)(Object(i.a)({},b),{},{newPwd:e.target.value}))}})]}),Object(j.jsxs)("p",{className:"pwd new-pwd",children:[Object(j.jsx)("span",{children:"\u786e\u8ba4\u5bc6\u7801"}),Object(j.jsx)("input",{type:"password",placeholder:"\u8bf7\u518d\u6b21\u8f93\u5165\u65b0\u5bc6\u7801",onChange:function(e){return f(Object(i.a)(Object(i.a)({},b),{},{confirmPwd:e.target.value}))}})]})]})]})},Ie=(n(228),n(87)),Ee=window.location.hostname,Re=Object(d.b)("userState")(Object(d.c)((function(e){var t=e.userState,n=t,r=n.updateUser,c=n.user,s=Object(a.useState)(!1),o=Object(g.a)(s,2),l=o[0],d=o[1],b=Object(a.useState)(!1),A=Object(g.a)(b,2),m=A[0],p=A[1],h=Object(a.useState)(""),O=Object(g.a)(h,2),v=O[0],w=O[1],y=function(e){ke({avatar:e}).then((function(e){u.a.success("\u4fee\u6539\u5934\u50cf\u6210\u529f")}))},S=function(){u.a.loading("\u8bf7\u6c42\u4e2d..."),ke({name:v}).then((function(e){u.a.success("\u4fee\u6539\u6635\u79f0\u6210\u529f"),r(Object(i.a)(Object(i.a)({},c),{},{name:v})),d(!1)}))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"my_header",children:[Object(j.jsxs)("div",{className:"my_avatar",children:[t.user.avatar?Object(j.jsx)("img",{src:c.imgUrl+c.avatar,alt:"",onError:function(e){e.target.onerror=null,e.target.src=f}}):Object(j.jsx)("img",{src:f,alt:"avatar"}),!c.avatar&&Object(j.jsx)("p",{children:"\u66f4\u6362"}),Object(j.jsx)("input",{type:"file",accept:"image/png, image/jpeg, image/gif, image/jpg",multiple:!1,onChange:function(e){!function(e){if(e.target.files){var t=e.target.files[0],n=new FormData;n.append("file",t,t.name),u.a.loading("\u6b63\u5728\u4e0a\u4f20\u4e2d...",0),ge(n).then((function(e){var t=e.data.data;r(Object(i.a)(Object(i.a)({},c),{},{avatar:t.url})),y(t.url),u.a.success("\u66f4\u65b0\u5934\u50cf\u6210\u529f")}))}}(e)}})]}),Object(j.jsx)("div",{className:"my_info",children:Object(j.jsxs)("div",{className:"my_name",children:[!l&&Object(j.jsxs)("h4",{children:[c.name,Object(j.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAEEUlEQVRIS7WWX2ibZRTGn+e8+TfBm846BJ3/b8pqky+N20CmxTkUvBDEC2/Fiw1vpFUZ4rbOtbLOteKdMFBhN/5B60BhCAqCm65t0rQQ7cUEC2NzjrJuzga+5H2PvCEJWZas6ToD312+9/edc57nPC9xe34SBMEukrsBHMtmsycB2FZH8zbwJJVKbRWR9wE8RvJ3VR3KZrOnAbjm89cLlGQyuY3kEZJ3q+pJks8BWHLODeXz+V+aoesBVmAiMkGyzzn3iXNu1BizFcBhkpettYPN0FsFeth2X5mIPKiqV0jCOXcwDMNvY7HYsyTfU9XLxpjBmZmZeqW3ApRMJrPNOTehql0ist9au0hyVETut9YOh2E4GY1GdxpjDqvqPwAGc7ncKd/etQIrbTTGeNhGDysWi18VCoVSb29vEI1GfXvvU9X95XJ5MhaL7VTVMZJX/UxzudzptQDrMAAbSdZgYVWJ9NBIJHJURO5R1UPlcvkbY8zTInIEwBVjzLudAiszq1bWpar7wjD8ulAo1GA19bO/vz+jqp+q6gZVfRvATyKyF8CrAL7vBFgTiG/XzWAealKp1FMkP6r+9yKAHwHsAnBJREZWA9YrA9DlnGtXWQ024Nunqs4595kx5hUAD6jqrHPuzXw+f+ZmwNVm1rhETBAET5IcBxDxogFwB0nvx/ONm6cdcD2wAx7qReXVqapvNa65VsBGnzVKv1kglTb6ykRkXFV9ZRUYgGERuVa1QsV/dVU1Ldc1V9YMIzlMsiXMsxor/N9hjcBKxBhjfGu6W5j6BoG0q0xEhqampq5rY+PLvkLvncerebZJRN5ZWVmZbGHqljOz1kaMMcMArgHw66strFJhT0/P5kQi8THJJ5xzx4vF4t6FhYWlFsHsP2yA5FGSoqrDzrmEiOzzaiR5XSq0C3Zu2bKlPxaLfUmyG8BFVR0h+Xk2m11peKkGGydJr0ZVTdSk3yr32gKTyeQL1eV6iuQjzrl7RWSsVCodn5+f/7eF9L2powAOVqVfj55OrisMguA1AK/7A1R1geQYgEcBjJZKpS/i8Xifqn5Q3SDeZx52oJ3PVoMylUodEpGXRWT39PT0D319fclIJDIBYLOqngCwozqzkdrMVPVqc5KvBqobP51OH1PVAWvtS3Nzc7NeSB7q05rkdp9j1lofL+oF4mGqesNdpWNgJpM5EYbhw4uLi88vLy//WQvTVCqVJvkhyYecc9+R3FG9jb3R6jbWMTCdTv8MYEO5XN4TiUSWrLV3AugWkU0kn1HVF70ynXN5VfUR82ur+2bHwCAIzpK8C8AfABKqGvftqz7+nBiAsz7lZ2dnz6wHVjF+Op3+zR+qqhdIesNfAnABwF/W2vPlcvlcPB7/O5vNnlsvzAP/A/WImlyvd6FzAAAAAElFTkSuQmCC",alt:"pencil",onClick:function(){d(!l)}})]}),l&&Object(j.jsxs)("form",{action:"",id:"formid",onSubmit:S,children:[Object(j.jsx)("input",{type:"text",value:v,autoFocus:!0,onChange:function(e){w(e.target.value)},onBlur:S}),Object(j.jsx)("input",{type:"submit",style:{display:"none"}})]}),Object(j.jsxs)("p",{children:["\u4e50\u804a\u53f7: ",c.account,Object(j.jsx)(Ie.CopyToClipboard,{text:c.account,onCopy:function(){return u.a.info("\u590d\u5236\u6210\u529f")},children:Object(j.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAEAYAAAD6+a2dAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAABF9JREFUeNrt3D9IG28YB/DnuSStFbUWrELQDmkKIlTMJYJGGimIUBw6FhyKikTpIjSKk4iDoIMgCBWldXCMXXSodBHFqqi5U4ODxdK/SUMRStWooOe9HaLDz/7SYnPxTX2fzxLihXufR77JvXfDA0AIIYQQQgghRCDIu4A/cQ27hl3DDx7oQT2oBysqwAte8JrNvOtKFqzHeqzf2sId3MGd2dnAZmAzsLm0lLT1eDccj8vj8rg8DQ1sj+2xvRcveNfDC2tn7ax9ZgZ7sAd7Hj9WVEVV1M+fjTq/xLvBePQ6vU6ve/iQdx28YS/2Ym9lJfjAB775eYfb4Xa4rVajzm/i3WA81pA1ZA3duRN7d/8+73q4W4AFWMjKQg011G7dikQikUhkbCzR06bsJaDIX+Qv8l+5kjaRNpE20dqKXvSi9949FmIhFrp8ewDswz7sM518IWU59nr9+i8fbIImaNJ1c4Y5w5xhtS7WLtYu1n779tfr8m6c/Jdj3jHvmLfbpXVpXVp/+xaGYAiGpF8v1eMwDuM1NUq+kq/kv3r1t+ul7B5AVCvuFfeK+907VsgKWeHWVrzPsSk2xaZu3Eh0PQpAqiqDMihjLO7xVmiFVkz4F5wCIDgKgOCStpuuZJWskpnNu3m7ebt5RUXSiDQijeTm8m442Vgn62SdHz4oiqIoyvv3J39liZ01eQwPQOwJnsMRbYm2RFv8fizAAiyw22P/GN7tXhzZL/tl/8yMRbNoFu3Ro0Rv15LFsEuAU3bKTtliYVEWZdGxMZiDOZiz23k3yMvpEzzNrtk1+7NnvOuJx7g9AAIC3r0be719m3djKSMIQQjW1Jw+2OJdzlmGBUAf0Af0gct/jT+3QRiEwatXM7VMLVNL/L7daBf2SJUts2W2rGmqpEqqZLHwbtwocq6cK+cWF8f2OmtrvOs5L7oNFBwFQHAUAMFRAARHARAcBUBwFADBUQAERwEQHAVAcBQAwVEABEcBEBwFQHAUAMFRAARHARAcBUBwFADBUQAERwEQHAVAcBSAVDUJkzD55Uvc49VQDdWfPiW6zKUbtXJZYBd2YdfTp6yf9bP+ly9xAzdw4+ZNqIIqqHr+XLWpNtU2O5voOvQLkKJi4+DevFE9qkf1WK1H20fbR9tZWYpNsSm2piaj1qEA/BN0PdgWbAu27e0ZfWYKgOAoAIK7sE0gNmMzNptMTp/T5/QFArwbN0wFVEDFtWvQDd3QzbuY8zMsAKYSU4mpZGeHAYP/nYeigALK6VQrp5N344aZhmmY/s3xk8GOB+GD8EE4GuVd7lmGjYrNyc7Jzsn+/t2Ubko3pT95AmEIQzgtjXeD3AUgAIGlpdXR1dHV0cFB3uWcZdge4HSXGhtw2NAApVAKpcbvWv8Z5VAO5V+/xkbber28y4knaaNiXfuufdd+QYFerBfrxVVV2IEd2HH5J4iwRtbIGj9+PD48Pjw+fP16DddwDX/84F0XIYQQQgghhBBCyE/IuHaT/cVd9gAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMS0wMi0xMVQxOTozMjozMiswODowMB3nPZYAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjEtMDItMTFUMTk6MzI6MzIrMDg6MDBsuoUqAAAASHRFWHRzdmc6YmFzZS11cmkAZmlsZTovLy9ob21lL2FkbWluL2ljb24tZm9udC90bXAvaWNvbl9oNW9pcWQ0MWwybS9mdXpoaS5zdmfbAlSqAAAAAElFTkSuQmCC",alt:"\u590d\u5236",className:"copy-img"})})]})]})})]}),Object(j.jsxs)("div",{className:"my_content",children:[Object(j.jsxs)("div",{className:"my_content_option",children:[Object(j.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAFV0lEQVRYR82Yf0wTZxjH722phUiHDla1i9mmLf4BFttOKRVoZ3ALXZXogjKz1IME4jAkgzBJk2XLIknDwjBZzUKs/YGJQ8KPNFPcFNSjRZBqr52SJWvRkc0omm52wKUrV+5drqGkMZYeRcwuuVxz7/Wez/M+z/t9n+cAhJCN/A8OkCQIRBCEPhEAQOQKIQQL/tDX6G/GLi4XBAIAqOPHj+cPDQ19zGazpQCADbQ1iqKmKIpyKxSKzjNnzoxBCFnLAVoOCNy/f/9bPp+vfXp6+n0ej/csPT3dHgqFHkEIES6X+yZBEEUzMzPreTzeFYlEcqyzs/MPpjBMQWBubu67BEH8xOFwQpmZmSf1er1FpVKFYucewzCuTqer9Pv9X5IkyREIBOqRkZE7TGCYgMC9e/dum5iYuIUgyO8ajUZtMBgeIwhCT/2LDqqhoUHQ19d3GQDwtlAolA8MDPyWCCYhCIZhoKam5hcIYWpVVdUunU73LNFL6dzV6/XrzWazEwDwr9frzYsmd7zsTQQCCwoKqh4+fGgUiUSq69evOxhARG3Bffv2Fbvd7hsCgaDG6XSalvrvkiAAgPnt27ePIggyd/fuXdUS4YjnKJWXl2enJeLevXuKpaRiSZD+/v7X6urqnmRkZHzudru/SwZELBZ/RhBEy+nTp7NKS0uJ5YaGstlsGdeuXVPbbLbzMpnsQ5vN9vMywrIYnvLy8g9GR0cvq9VqrUKhuIii6D8vcuj5GaGTLLOjo+PrYDCIkiSZlp6ejhw6dGhnc3Ozm7FMxjyo0+mkvb29ToIgEA6HE0xNTbUePXr0K51O91esY7EgsKmpSdDV1TW0Zs2a17KystqKiop8FoulW6vV7mptbcWTAWlqapJZLJaxysrKcofDIfL7/Q1zc3PThw8fVra0tDyKwsSCUFu3br0DANhYWlpaaDAYJhsbG3dbrVYHiqIrAjGZTGMoiha1trberK2tfefq1asOCOHj+/fv74yGKQoClUrlJz6fr0MikSj7+/uHae8bGxsVLxlkhH6vWq0u8ng8WHZ2thbDsPORvXNhSVESieRHNpvNd7lc+Qv34CqBAFoWpFKpE0I4heN4GT0rERB6YMeOHb9CCO0ej+fThelaNRB6s5ZIJO0IghR6PJ6cCEMMyDgAwIHjeO2rAJFKpd9DCOkQ5S6C0IQymawPQZCNOI4XvIrQyGSyW/Pz84/cbvdHi6GhNySlUlnh8/nOS6XS4kuXLt1czWTVaDS7cRy3Z2dnH8EwrCs2WSNF1pYtW1wpKSkbxGKxqqenZ2I1lu/BgwdF4+PjN8Lh8JMHDx7Inl++kbKTFrQLFy7cSElJ4fP5fFrQvFar9YeXIWharfaIw+HY5vf768Ph8NOKior34glaBObUqVPrjEZjM0EQVSRJclksFi3x+W1tba5klDUq8cFgEGGxWKG1a9eaq6urv6ivrw/Ek/hYO9S5c+det9vtOycnJzPa29ttQqEwnAQIRFG0ZHBw8MqePXsqS0pKLmq12r+ZbHrP24q2DfHKwkRsVE5OTl0wGPzWbDa/oVKpZpZbBiQywHScLowGIYRpKyqMmFqL8xwsKysrcLlcw5s2bTp2+/ZtY9Kl4gpAoMlkWqfX68dYLBbp9XrFKy2ek2GBJ06c4Pf09FymKEooEonyX0o7wYBksQ/u7u7mGAyGI1NTUydDoVDa5s2bNcPDw04mJWaidiIRBywsLNQEAoEDaWlp/NnZ2V2BQCCLx+MNFBcXV589e/ZPJhC0kZWCUHK5/JvZ2dkDXC73KUmSo3K5vNdoNI6sZhMet3ehP0286s8SiUKV9Ph/pr4vUBWI+ckAAAAASUVORK5CYII=",alt:"headset"}),Object(j.jsx)("div",{className:"my_content_title",onClick:function(){return p(!0)},children:Object(j.jsx)("p",{children:"\u4fee\u6539\u5bc6\u7801"})})]}),Object(j.jsxs)("div",{className:"my_content_option",children:[Object(j.jsx)("img",{src:"data:image/png;base64,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",alt:"link"}),Object(j.jsxs)("div",{className:"friends_link",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{children:"\u597d\u53cb\u94fe\u63a5"}),Object(j.jsx)(Ie.CopyToClipboard,{text:"".concat(Ee,"/#/r?").concat(t.user.account),onCopy:function(){return u.a.info("\u590d\u5236\u6210\u529f")},children:Object(j.jsx)("button",{children:"\u590d\u5236\u8fde\u63a5"})})]}),Object(j.jsx)("span",{children:"".concat(Ee,"/#/r?").concat(t.user.account)})]})]}),Object(j.jsx)("button",{className:"my_logout",onClick:function(){t.logout(),window.location.reload()},children:"\u9000\u51fa\u767b\u5f55"})]}),Object(j.jsx)(Ne,{display:m,setDisplayPwd:p}),Object(j.jsx)(le,{})]})}))),Be=(n(232),n.p+"static/media/guid.69c4c9d6.png");var Me=[{path:"/login",name:"login",component:ne,auth:!1},{path:"/r",name:"register",component:oe,auth:!1},{path:"/chat",name:"chat",component:B,auth:!0},{path:"/",name:"messages",component:me,auth:!0},{path:"/friends",name:"friends",component:Se,auth:!0},{path:"/groups",name:"groups",component:xe,auth:!0},{path:"/my",name:"my",component:Re,auth:!0},{path:"/iosdownload",name:"iosdownload",component:function(){return Object(j.jsxs)("div",{className:"iosdownload_bg",children:[Object(j.jsx)("img",{src:Be,alt:"guidImg"}),Object(j.jsx)(s.b,{to:"/",children:"\u6211\u77e5\u9053\u4e86"})]})},auth:!1}],De=Object(d.b)("userState")(Object(d.c)((function(e){var t=e.userState,n=Object(l.h)().pathname,i=t.user,a=Me.find((function(e){return e.path===n})),r=a.component;return!a||a.auth||i.isLogin?i.isLogin?Object(j.jsx)(l.b,{path:n,component:r}):Object(j.jsx)(l.a,{to:"/login"}):Object(j.jsx)(l.b,{path:n,component:r})})));n(233);u.a.config({duration:1.3});var We,Ue,ze,Le,Fe,Qe,Ve,Je,Ze,He,Ke,qe,Ge,Pe,Te,Ye,Xe,_e,$e,et,tt,nt,it,at,rt,ct,st,ot,ut,lt,dt,gt,bt,jt,At,ft,mt,pt,ht,Ot,vt,wt,yt,St,Ct,xt,kt,Nt,It,Et,Rt,Bt,Mt,Dt,Wt,Ut,zt,Lt,Ft,Qt,Vt,Jt,Zt,Ht,Kt,qt,Gt=function(e){return Object(a.useEffect)((function(){$()}),[]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(l.d,{children:Object(j.jsx)(De,{})})})},Pt=n(5),Tt=n(4),Yt=(n(45),n(2)),Xt=(We=function e(){Object(J.a)(this,e),Object(Pt.a)(this,"clientHeight",Ue,this),Object(Pt.a)(this,"footerHeight",ze,this),Object(Pt.a)(this,"updateFooterHeight",Le,this),Object(Yt.o)(this)},Ue=Object(Tt.a)(We.prototype,"clientHeight",[Yt.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return document.documentElement.clientHeight}}),ze=Object(Tt.a)(We.prototype,"footerHeight",[Yt.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),Le=Object(Tt.a)(We.prototype,"updateFooterHeight",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.footerHeight=t}}}),We),_t=(Fe=function(){function e(){var t=this;Object(J.a)(this,e),Object(Pt.a)(this,"isLastPage",Qe,this),Object(Pt.a)(this,"init",Ve,this),Object(Pt.a)(this,"currentChat",Je,this),Object(Pt.a)(this,"msgHisotry",Ze,this),Object(Pt.a)(this,"kickedByGroup",He,this),Object(Pt.a)(this,"newGroup",Ke,this),Object(Pt.a)(this,"update",qe,this),this.updateGroup=function(e){var n=e.message,i=e.type,a=e.user,r=e.createTime,c={id:n.receiveId,type:i,name:a.name,remark:a.remark,avatar:a.avatar,groupAvatar:a.groupAvatar,lastMsgContent:n.msgContent,unMsgCount:1,modifiedTime:v(r),dataTime:r};if(t.currentChat.groupId===n.receiveId)return c.unMsgCount=0,void t.addHistoryItem(c);t.addHistoryItem(c)},Object(Pt.a)(this,"initMessags",Ge,this),Object(Pt.a)(this,"setCurrentChatByMsgStore",Pe,this),this.addHistoryItem=function(e){var n=e.type,i=e.id,a=e.lastMsgContent,r=e.modifiedTime,c=e.unMsgCount,s=e.groupAvatar,o=e.dataTime,u=e.name,l=e.remark,d=e.avatar,g=n+"-"+i,b=t.msgHisotry[g];if(b)return t.currentChat.id||t.currentChat.groupId?b.unMsgCount=b.unMsgCount=0:b.unMsgCount=b.unMsgCount+1,b.lastMsgContent=a,void(b.modifiedTime=v(r));var j={id:i,type:n,name:u,remark:l,avatar:d,groupAvatar:s,lastMsgContent:a,modifiedTime:v(r),unMsgCount:c,dataTime:o};t.msgHisotry[g]=j},Object(Yt.o)(this),Object(Yt.g)((function(){null===X||void 0===X||X.addEventListener(1,t.update),null===X||void 0===X||X.addEventListener(2,t.updateGroup),null===X||void 0===X||X.addEventListener(5,t.newGroup),null===X||void 0===X||X.addEventListener(6,t.kickedByGroup)}))}return Object(Z.a)(e,[{key:"total",get:function(){var e=this,t=0;return Object.keys(this.msgHisotry).map((function(n){t+=e.msgHisotry[n].unMsgCount})),t}}]),e}(),Qe=Object(Tt.a)(Fe.prototype,"isLastPage",[Yt.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ve=Object(Tt.a)(Fe.prototype,"init",[Yt.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Je=Object(Tt.a)(Fe.prototype,"currentChat",[Yt.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{groupId:0,id:0}}}),Ze=Object(Tt.a)(Fe.prototype,"msgHisotry",[Yt.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),He=Object(Tt.a)(Fe.prototype,"kickedByGroup",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=t.user.groupId,i="2-"+n,a="5-"+n,r=e.msgHisotry;delete r[i],delete r[a],e.msgHisotry=r}}}),Ke=Object(Tt.a)(Fe.prototype,"newGroup",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=t.message,i=(t.type,t.user),a=t.createTime,r={id:i.groupId,type:2,name:i.groupName,remark:i.remark,avatar:i.avatar,groupAvatar:i.groupAvatar,lastMsgContent:n.msgContent,unMsgCount:1,modifiedTime:v(a),dataTime:a};e.addHistoryItem(r)}}}),qe=Object(Tt.a)(Fe.prototype,"update",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=sessionStorage.getItem("user")||"",i=JSON.parse(n),a=t.message,r=t.type,c=t.user,s=t.createTime;if(a.receiveId&&c.uid){var o={id:i.uid===c.uid?a.receiveId:c.uid,type:r,name:c.name,remark:c.remark,avatar:c.avatar,lastMsgContent:a.msgContent,unMsgCount:1,modifiedTime:s,dataTime:s};if(e.currentChat.id===c.uid)return o.unMsgCount=0,void e.addHistoryItem(o);e.addHistoryItem(o)}}}}),Ge=Object(Tt.a)(Fe.prototype,"initMessags",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.init=!0}}}),Pe=Object(Tt.a)(Fe.prototype,"setCurrentChatByMsgStore",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.currentChat=t}}}),Object(Tt.a)(Fe.prototype,"total",[Yt.h],Object.getOwnPropertyDescriptor(Fe.prototype,"total"),Fe.prototype),Fe),$t=(Te=function e(){var t=this;Object(J.a)(this,e),Object(Pt.a)(this,"showDownLoadLink",Ye,this),Object(Pt.a)(this,"setShowDownLoadLink",Xe,this),Object(Pt.a)(this,"isIosLink",_e,this),Object(Pt.a)(this,"setIsIosLink",$e,this),Object(Pt.a)(this,"pullRed",et,this),Object(Pt.a)(this,"user",tt,this),Object(Pt.a)(this,"logout",nt,this),Object(Pt.a)(this,"updateUser",it,this),Object(Pt.a)(this,"remoteLogin",at,this),Object(Yt.o)(this),Object(Yt.g)((function(){var e=sessionStorage.getItem("user");e&&t.updateUser(JSON.parse(e)),X.addEventListener(-1,t.remoteLogin),X.addEventListener(-2,t.logout)}))},Ye=Object(Tt.a)(Te.prototype,"showDownLoadLink",[Yt.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Xe=Object(Tt.a)(Te.prototype,"setShowDownLoadLink",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.showDownLoadLink=t}}}),_e=Object(Tt.a)(Te.prototype,"isIosLink",[Yt.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$e=Object(Tt.a)(Te.prototype,"setIsIosLink",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.isIosLink=t}}}),et=Object(Tt.a)(Te.prototype,"pullRed",[Yt.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{recommendMatchNum:0,redListHits:0}}}),tt=Object(Tt.a)(Te.prototype,"user",[Yt.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{isLogin:!1,uid:"",sid:"",account:"",avatar:"",imgUrl:"",ws:""}}}),nt=Object(Tt.a)(Te.prototype,"logout",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){u.a.info("\u8d26\u53f7\u5df2\u9000\u51fa"),e.user.isLogin=!1,sessionStorage.clear()}}}),it=Object(Tt.a)(Te.prototype,"updateUser",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.user=t,sessionStorage.setItem("user",JSON.stringify(t))}}}),at=Object(Tt.a)(Te.prototype,"remoteLogin",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){console.log(t,"\u60a8\u7684\u8d26\u53f7\u5f02\u5730\u767b\u5f55"),u.a.info("\u60a8\u7684\u8d26\u53f7\u5f02\u5730\u767b\u5f55"),e.user.isLogin=!1,sessionStorage.clear()}}}),Te),en=n(49),tn=function(){var e=sessionStorage.getItem("user");return e?JSON.parse(e):null},nn=(rt=function e(){var t=this;Object(J.a)(this,e),Object(Pt.a)(this,"isLastPage",ct,this),Object(Pt.a)(this,"init",st,this),Object(Pt.a)(this,"currentChat",ot,this),Object(Pt.a)(this,"friendsData",ut,this),Object(Pt.a)(this,"friendsAddedData",lt,this),Object(Pt.a)(this,"messagesHistory",dt,this),Object(Pt.a)(this,"updateFriends",gt,this),Object(Pt.a)(this,"updateFriendsAdded",bt,this),Object(Pt.a)(this,"getFriendList",jt,this),Object(Pt.a)(this,"getUpdateFriendsAddedList",At,this),Object(Pt.a)(this,"clearFriendHisotry",ft,this),Object(Pt.a)(this,"getMessageHistory",mt,this),Object(Pt.a)(this,"setCurrentChat",pt,this),Object(Pt.a)(this,"update",ht,this),Object(Pt.a)(this,"reqAddedFriends",Ot,this),Object(Pt.a)(this,"myselfMsg",vt,this),Object(Yt.o)(this),Object(Yt.g)((function(){null===X||void 0===X||X.addEventListener(1,t.update),null===X||void 0===X||X.addEventListener(3,t.reqAddedFriends),null===X||void 0===X||X.addEventListener(4,t.getFriendList)}))},ct=Object(Tt.a)(rt.prototype,"isLastPage",[Yt.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),st=Object(Tt.a)(rt.prototype,"init",[Yt.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ot=Object(Tt.a)(rt.prototype,"currentChat",[Yt.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{id:0}}}),ut=Object(Tt.a)(rt.prototype,"friendsData",[Yt.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),lt=Object(Tt.a)(rt.prototype,"friendsAddedData",[Yt.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),dt=Object(Tt.a)(rt.prototype,"messagesHistory",[Yt.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),gt=Object(Tt.a)(rt.prototype,"updateFriends",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.friendsData=t}}}),bt=Object(Tt.a)(rt.prototype,"updateFriendsAdded",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.friendsAddedData=t}}}),jt=Object(Tt.a)(rt.prototype,"getFriendList",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){F("/api/user/friend/lists",{}).then((function(t){e.friendsData=t.data,e.init=!0}))}}}),At=Object(Tt.a)(rt.prototype,"getUpdateFriendsAddedList",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){F("/api/user/friendAsk/lists",{}).then((function(t){e.friendsAddedData=t.data}))}}}),ft=Object(Tt.a)(rt.prototype,"clearFriendHisotry",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.messagesHistory=[]}}}),mt=Object(Tt.a)(rt.prototype,"getMessageHistory",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){var i;(i={senderUid:t,page:n},F("/api/user/friendMsg/lists",i)).then((function(t){var n,i=t.data;if(e.isLastPage=t.finalPage,e.messagesHistory.length>0){var a=e.messagesHistory[0];i.map((function(e,t){e.msgId===a.msgId&&(n=t)}))}void 0!=n&&(i=i.slice(0,n)),e.messagesHistory=[].concat(Object(en.a)(e.messagesHistory),Object(en.a)(i))}))}}}),pt=Object(Tt.a)(rt.prototype,"setCurrentChat",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.currentChat.id=t}}}),ht=Object(Tt.a)(rt.prototype,"update",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=tn(),i=t.createTime,a=t.message,r=t.user,c=t.type;if(r.uid!==n.uid){var s={createTime:i,msgId:a.receiveId,msgContent:a.msgContent,msgType:c,senderUid:r.uid,user:r,modifiedTime:v(i),dataTime:i};e.currentChat.id===r.uid&&e.messagesHistory.unshift(s)}}}}),Ot=Object(Tt.a)(rt.prototype,"reqAddedFriends",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=t.createTime,i=t.message,a=t.user,r={createTime:n,user:a,uid:i.receiveId,remark:null,status:0,friendUid:a.uid,id:i.ext};e.friendsAddedData.push(r)}}}),vt=Object(Tt.a)(rt.prototype,"myselfMsg",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=tn(),a={createTime:new Date,msgId:t.receiveId,msgContent:t.msgContent,msgType:t.type,senderUid:n.uid,user:Object(i.a)({},n)};e.messagesHistory.unshift(a)}}}),rt),an=(wt=function e(){var t=this;Object(J.a)(this,e),Object(Pt.a)(this,"isLastPage",yt,this),Object(Pt.a)(this,"init",St,this),Object(Pt.a)(this,"currentChat",Ct,this),Object(Pt.a)(this,"groupsData",xt,this),Object(Pt.a)(this,"friendsAddedData",kt,this),Object(Pt.a)(this,"groupMembers",Nt,this),Object(Pt.a)(this,"messagesHistory",It,this),Object(Pt.a)(this,"getGroupMembers",Et,this),Object(Pt.a)(this,"getDeleteGroupMembers",Rt,this),Object(Pt.a)(this,"getAddGroupMembers",Bt,this),Object(Pt.a)(this,"updateFriends",Mt,this),Object(Pt.a)(this,"updateFriendsAdded",Dt,this),Object(Pt.a)(this,"getGroupList",Wt,this),Object(Pt.a)(this,"setCurrentChat",Ut,this),Object(Pt.a)(this,"clearGroupHisotry",zt,this),Object(Pt.a)(this,"groupHisotrys",Lt,this),Object(Pt.a)(this,"update",Ft,this),Object(Pt.a)(this,"myselfMsg",Qt,this),Object(Yt.o)(this),Object(Yt.g)((function(){null===X||void 0===X||X.addEventListener(2,t.update)}))},yt=Object(Tt.a)(wt.prototype,"isLastPage",[Yt.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),St=Object(Tt.a)(wt.prototype,"init",[Yt.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ct=Object(Tt.a)(wt.prototype,"currentChat",[Yt.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{groupId:0}}}),xt=Object(Tt.a)(wt.prototype,"groupsData",[Yt.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),kt=Object(Tt.a)(wt.prototype,"friendsAddedData",[Yt.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Nt=Object(Tt.a)(wt.prototype,"groupMembers",[Yt.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),It=Object(Tt.a)(wt.prototype,"messagesHistory",[Yt.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Et=Object(Tt.a)(wt.prototype,"getGroupMembers",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){(function(e){return F("/api/group/lists",{groupId:e})})(t).then((function(t){e.groupMembers=t.data}))}}}),Rt=Object(Tt.a)(wt.prototype,"getDeleteGroupMembers",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){(function(e,t){return Q("/api/group/user/deleteByUid",{uids:e,groupId:t})})(t,n).then((function(){e.getGroupMembers(n)}))}}}),Bt=Object(Tt.a)(wt.prototype,"getAddGroupMembers",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){(function(e,t){return Q("/api/group/user/create",{uids:e,groupId:t})})(t,n).then((function(){e.getGroupMembers(n)}))}}}),Mt=Object(Tt.a)(wt.prototype,"updateFriends",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(e){}}}),Dt=Object(Tt.a)(wt.prototype,"updateFriendsAdded",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.friendsAddedData=t}}}),Wt=Object(Tt.a)(wt.prototype,"getGroupList",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){F("/api/group/user/lists",{}).then((function(t){e.groupsData=t.data,e.init=!0}))}}}),Ut=Object(Tt.a)(wt.prototype,"setCurrentChat",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.currentChat.groupId=t}}}),zt=Object(Tt.a)(wt.prototype,"clearGroupHisotry",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.messagesHistory=[]}}}),Lt=Object(Tt.a)(wt.prototype,"groupHisotrys",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(Oe.a)(he.a.mark((function t(n,i){return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(a={groupId:n,page:i},F("/api/group/msg/lists",a)).then((function(t){var n,i=t.data;if(e.isLastPage=t.finalPage,e.messagesHistory.length>0){var a=e.messagesHistory[0];i.map((function(e,t){e.msgId===a.msgId&&(n=t)}))}void 0!=n&&(i=i.slice(0,n)),e.messagesHistory=[].concat(Object(en.a)(e.messagesHistory),Object(en.a)(i))}));case 1:case"end":return t.stop()}var a}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),Ft=Object(Tt.a)(wt.prototype,"update",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=tn(),i=t.createTime,a=t.message,r=t.user,c=t.type;if(a.receiveId==e.currentChat.groupId&&r.uid!==n.uid){var s={createTime:i,groupId:a.receiveId,msgContent:a.msgContent,msgType:c,senderUid:r.uid,user:r};e.messagesHistory.unshift(s)}}}}),Qt=Object(Tt.a)(wt.prototype,"myselfMsg",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=tn(),a={createTime:new Date,groupId:t.groupId,msgContent:t.msgContent,msgType:2,senderUid:n.uid,user:Object(i.a)({},n)};e.messagesHistory.unshift(a)}}}),wt),rn=(Vt=function e(){Object(J.a)(this,e),Object(Pt.a)(this,"phoneNumber",Jt,this),Object(Pt.a)(this,"step",Zt,this),Object(Pt.a)(this,"changeStep",Ht,this),Object(Pt.a)(this,"changePhoneNum",Kt,this),Object(Pt.a)(this,"register",qt,this),Object(Yt.o)(this)},Jt=Object(Tt.a)(Vt.prototype,"phoneNumber",[Yt.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Zt=Object(Tt.a)(Vt.prototype,"step",[Yt.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ht=Object(Tt.a)(Vt.prototype,"changeStep",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.step=t}}}),Kt=Object(Tt.a)(Vt.prototype,"changePhoneNum",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.phoneNumber=t}}}),qt=Object(Tt.a)(Vt.prototype,"register",[Yt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){return t={mobilePhone:e.phoneNumber},Q("/api/user/login/sendSms",t);var t}}}),Vt),cn=new nn,sn=new Xt,on=new $t,un={commonState:sn,registerState:new rn,userState:on,msgState:new _t,groupsState:new an,friendsState:cn},ln=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function dn(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(234),n(235);console.log("Hello world"),c.a.render(Object(j.jsx)(d.a,Object(i.a)(Object(i.a)({},un),{},{children:Object(j.jsx)(s.a,{children:Object(j.jsx)(Gt,{})})})),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");ln?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):dn(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):dn(e)}))}}()},60:function(e,t,n){},86:function(e,t,n){"use strict";var i=n(204),a=(i.roots.default||(i.roots.default=new i.Root)).addJSON({protocol:{options:{optimize_for:"SPEED",java_package:"com.lmxdawn.him.common.protobuf"},nested:{WSBaseReqProto:{fields:{type:{type:"int32",id:1},uid:{type:"uint64",id:2},sid:{type:"string",id:3}}},WSBaseResProto:{fields:{type:{type:"int32",id:1},message:{type:"WSMessageResProto",id:2},user:{type:"WSUserResProto",id:3},createTime:{type:"string",id:4}}},WSMessageResProto:{fields:{receiveId:{type:"uint64",id:1},msgType:{type:"int32",id:2},msgContent:{type:"string",id:3},ext:{type:"string",id:4}}},WSUserResProto:{fields:{uid:{type:"uint64",id:1},name:{type:"string",id:2},avatar:{type:"string",id:3},remark:{type:"string",id:4},groupName:{type:"string",id:5},groupId:{type:"int32",id:6},groupAvatar:{type:"string",id:7},receiveAvatar:{type:"string",id:8}}}}}});e.exports=a}},[[236,1,2]]]);
//# sourceMappingURL=main.8824359e.chunk.js.map